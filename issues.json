["One day i needed to configure search fields of _UserSocialAuth_ like this:\r\n\r\n>  search_fields = ['=user__id', '^user__email', '=uid']\r\n\r\nI found the setting _ADMIN_USER_SEARCH_FIELDS_, but it was very limited. It does not allow to do restrictive searches, using by [prefix the field name with an operator](https://docs.djangoproject.com/en/1.10/ref/contrib/admin/#django.contrib.admin.ModelAdmin.search_fields).\r\n\r\nAlso, since the setting has related to User model, you can't search by the other models fields.\r\n\r\nI've added new setting **ADMIN_SEARCH_FIELDS**. Please, review!", "The overridden `auth_params` method in the Stripe backend isn't needed. The implementation in `social/backends/oauth.py` performs the same functionality and correctly handles `redirect_uri`.", "The backend for Google OpenID Connect is broken. Here are some notes toward where the problem lies, in case someone else is tempted to go on a goose chase.\r\n\r\nIn 61dfbc2ea7a897981a15db8904c5a68d471b0515 the authorization flow for the GoogleOpenIDConnect backend fails at ``BaseOAuth2.auth_complete()``: raising an ``AuthCanceled`` exception due to an underlying 400 response by Google -- PSA is passing ``nonce``, which is not supported by the Google API.\r\n\r\nIf we remove the ``nonce`` from the request (e.g. by removing [lines 298-300 in backends.open_id.OpenIDConnectAuth.auth_complete_params()](https://github.com/omab/python-social-auth/blob/master/social/backends/open_id.py#L298-L300)), we get an ok response from Google, but PSA fails to verify Google's JWT -- we get an ``AuthTokenError`` [here](https://github.com/omab/python-social-auth/blob/master/social/backends/open_id.py#L352) with an underlying complaint from ``jwt.decode`` that \"The specified alg value is not allowed\").\r\n\r\nFrom [what I vaguely understand of OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation), we should expect an ``alg`` header in the JWT, and so it makes sense that the PSA OpenID backend is asking ``jwt.decode`` to ``verify`` (default) the token. The exception above is raised because PSA's OpenID backend passes ``algorithms=['HS256']`` to  ``jwt.decode``, but **since Google does not pass the ``alg`` claim in the JWT verification fails**. \r\n\r\nThe missing ``alg`` claim is by design on Google's part: [Google claims that](https://developers.google.com/identity/protocols/OpenIDConnect#sendauthrequest)\r\n\r\n> Normally, it is critical that you validate an ID token before you use it, but since you are communicating directly with Google over an intermediary-free HTTPS channel and using your client secret to authenticate yourself to Google, you can be confident that the token you receive really comes from Google and is valid. \r\n\r\nHere's how Google wants you to validate their tokens: https://developers.google.com/identity/protocols/OpenIDConnect#validatinganidtoken\r\n\r\nSo, not sure what the path forward is for PSA, other than that a different validation strategy needs to be implemented.", "I keep getting this error\r\n\r\nLookupError at /admin/Movies/movietitles/65/change/\r\nNo installed app with label 'Social Nonce'.\r\nRequest Method:\tGET\r\nRequest URL:\thttp://127.0.0.1:8000/admin/Movies/movietitles/65/change/\r\nDjango Version:\t1.10.2\r\nException Type:\tLookupError\r\nException Value:\t\r\nNo installed app with label 'Social Nonce'.\r\nException Location:\tC:\\Python27\\lib\\site-packages\\django\\apps\\registry.py in get_app_config, line 155\r\nPython Executable:\tC:\\Python27\\Scripts\\python.exe\r\nPython Version:\t2.7.12\r\nPython Path:\t\r\n['C:\\\\Users\\\\sallyp\\\\prjamh2\\\\poptvpynew',\r\n 'C:\\\\Users\\\\sallyp\\\\prjamh2\\\\poptvpynew',\r\n 'C:\\\\Windows\\\\SYSTEM32\\\\python27.zip',\r\n 'C:\\\\Python27\\\\DLLs',\r\n 'C:\\\\Python27\\\\lib',\r\n 'C:\\\\Python27\\\\lib\\\\plat-win',\r\n 'C:\\\\Python27\\\\lib\\\\lib-tk',\r\n 'C:\\\\Python27\\\\Scripts',\r\n 'C:\\\\Python27',\r\n 'C:\\\\Python27\\\\lib\\\\site-packages',\r\n 'c:\\\\users\\\\sallyp\\\\prjamh2\\\\turbogear\\\\myproj',\r\n 'C:\\\\Python27\\\\lib\\\\site-packages\\\\win32',\r\n 'C:\\\\Python27\\\\lib\\\\site-packages\\\\win32\\\\lib',\r\n 'C:\\\\Python27\\\\lib\\\\site-packages\\\\Pythonwin']\r\nServer time:\tWed, 5 Oct 2016 15:57:12 +0800", "Closes #953", "Django 1.8 deprecates and removes `django.conf.url.pattern`, so old example cannot work anymore. The urls will just be a simple list.\r\n\r\nAlso, this PR update the `TEMPLATES` configuration in `settings.py` to newer format. This is required, as of 1.10.2 the app won't be able to find the template engine, defined by old format.", "Python-social-auth is getting migrated to http://github.com/python-social-auth where it's getting split on several smaller modules with their own dependencies properly specified (no more flask and django apps in the same repo), it's also an opportunity to renew the development process with a defined contribution guidelines, better versioning (semver).\r\n\r\nItems to complete the migration:\r\n\r\n- [x] Split python-social-auth in smaller modules per responsibility\r\n- [ ] Migrate omab/python-social-auth to python-social-auth org\r\n- [ ] Port examples\r\n- [ ] Apply patches from PRs on their corresponding modules\r\n- [ ] Port issues to their corresponding modules\r\n- [ ] Update this lib to depend on the new modules and ensure it's functionality\r\n- [ ] Update README noticing the deprecation of this monolithic library\r\n- [ ] Write a migration document", "As for updated API response of users data these keys have been changes for more appropriate ones", "Django support has been split from the main mongoengine project", "", "alexpantyukhin  add support peewee for flask\r\nhttps://github.com/omab/python-social-auth/pull/932\r\n\r\nbut the code above can not work  on my env:\r\n\r\nmy requirements.txt is this:\r\n$ pip freeze\r\nclick==6.6\r\nFlask==0.11.1\r\nFlask-Login==0.3.2\r\nFlask-Script==2.0.5\r\nitsdangerous==0.24\r\nJinja2==2.8\r\nMarkupSafe==0.23\r\noauthlib==2.0.0\r\n**peewee==2.8.3**\r\nPyJWT==1.4.2\r\npysqlite==2.8.3\r\npython-openid==2.2.5\r\npython-social-auth==0.2.21\r\nrequests==2.11.1\r\nrequests-oauthlib==0.7.0\r\nsix==1.10.0\r\nWerkzeug==0.11.11\r\n\r\n\r\nwhen i run the command manage.py, i got the error message like this:\r\n\r\n/flask_peewee_example$ python manage.py runserver\r\n/home/testing/env_login_test/local/lib/python2.7/site-packages/flask/exthook.py:71: ExtDeprecationWarning: Importing **flask.ext.script** is deprecated, use flask_script instead.\r\n  .format(x=modname), ExtDeprecationWarning\r\nTraceback (most recent call last):\r\n  File \"manage.py\", line 8, in <module>\r\n    from flask_example import app, database\r\n  File \"../flask_example/__init__.py\", line 3, in <module>\r\n    from sqlalchemy import create_engine\r\n**ImportError: No module named sqlalchemy**\r\n", "# **issue 1**\r\n\r\nhttps://github.com/omab/python-social-auth/blob/master/docs/backends/weibo.rst\r\n\r\ncompare to weibo backend, weixin doesn't have the backends docs like above, so that we don't know which is the right _KEY   _SECRET  values to use.\r\n\r\n# **issue 2**\r\nexample code doesn't contain the weixin backend , so does QQ backend and weibo backend.\r\nhttps://github.com/omab/python-social-auth/tree/master/examples\r\n\r\n", "If the twitter account you're trying to sign into has a unicode character in their latest tweet then signing in will error.", "```\r\n/usr/local/lib/python3.5/site-packages/social/apps/django_app/default/models.py:33: RemovedInDjango20Warning: on_delete will be a required arg for ForeignKey in Django 2.0. Set it to models.CASCADE on models and in existing migrations if you want to maintain the current default behavior. See https://docs.djangoproject.com/en/1.10/ref/models/fields/#django.db.models.ForeignKey.on_delete\r\n  user = models.ForeignKey(USER_MODEL, related_name='social_auth')\r\n```", "Hi all,\r\n\r\nI got error in line\r\nhttps://github.com/omab/python-social-auth/blob/master/social/pipeline/user.py#L45\r\n\r\nIn this line, we split username value into parts. But if a username is an int value, then we will get an error.\r\nIn Moves backend, we store user_id (int value) in a username variable.\r\n\r\nhttps://github.com/omab/python-social-auth/blob/master/social/backends/moves.py#L25\r\n", "I am using [Signup by OAuth access_token](http://python-social-auth.readthedocs.io/en/latest/use_cases.html#signup-by-oauth-access-token) along with django-oauth-toolkit for OAuth2 authentication.\r\n\r\nI used 'associate_user' pipeline to connect multiple backend with Session auth. How to use the same pipeline to connect multiple backend using OAuth2.", "Closes #1016", "API v1 is deprecated and will be shut down 2017-06-28\r\nhttps://blogs.dropbox.com/developers/2016/06/api-v1-deprecated/", "**Type: Bug**\r\n\r\n**Version**: 0.2.21\r\n**Django**: 1.9.2\r\n\r\n**File**: social/pipeline/user.py\r\n**Function**: user_details\r\n\r\n**Description**: \r\nSometimes user model can store boolean flags obtained from checkbox.\r\nIn this case _details_ dict will contain boolean variable (which could be equal to _False_)\r\nIn this case the code\r\n`if value and hasattr(user, name):`\r\nwill never let the field _name_ to update, because _value_ == _False_", "Hi, \r\n\r\nI'm looking to customise my pipeline such that each provider has a slightly different pipeline. Rather than throwing in a bunch of `if` statements everywhere I thought it would be much better to be able to define a pipeline per provider.\r\n\r\nFor example `SOCIAL_AUTH_PIPELINE` would be the default pipeline which could be overridden by `SOCIAL_AUTH_GOOGLE_OAUTH2_PIPELINE`.\r\n\r\nI'm happy to make a pull request for this if it is something that you would consider merging? Ideally I'd like to see it released fairly soon so that I can take advantage of it in my current project.", "Now fk looks like\r\n`\"user_id_refs_id_eb775862\" FOREIGN KEY (user_id) REFERENCES membership_user(id) DEFERRABLE INITIALLY DEFERRED`\r\n\r\nIt`s problem if we want to delete user in db", "Line 61 of `social/apps/django_app/default/models.py` uses `field.rel`:\r\nhttps://github.com/omab/python-social-auth/blob/aa907384636a8ea87b86db3d5ab1580440e71665/social/apps/django_app/default/models.py#L61\r\n\r\nThis causes a warning in Django 1.9, but in Django 2.0 this code will cease to work.\r\n\r\nOn a related note, `ForeignObjectRel.to` was deprecated in favour of the model attribute.\r\nOriginal exception message: `Usage of ForeignObjectRel.to attribute has been deprecated. Use the model attribute instead.`\r\n\r\nRef: https://docs.djangoproject.com/en/1.9/releases/1.9/#field-rel-changes", "`user.is_authenticated()` is used throughout code (I noticed it in `social/utils.py`), but in Django 1.10 `is_authenticated` is now a property, rather than a method.\r\n\r\nThis causes a warning in Django 1.10, but in Django 2.0 this code will cease to work.\r\n\r\nThe full exception message is `Using user.is_authenticated() and user.is_anonymous() as a method is deprecated. Remove the parentheses to use it as an attribute.`\r\n\r\nRef: https://docs.djangoproject.com/en/1.10/releases/1.10/#using-user-is-authenticated-and-user-is-anonymous-as-methods", "[Quizlet](https://quizlet.com/) OAuth2 backend.\r\n\r\nThanks!", "should support https://gitlab.com/ and on premises installation (custom urls)\r\n\r\ni tried to make own using this blog:\r\nhttp://widerin.net/blog/weblate-gitlab-oauth-login/\r\n\r\nin weblate, but got some errors:\r\n\r\n```\r\nweblate_1   | ERROR Internal Server Error: /accounts/complete/GitLab/\r\nweblate_1   | Traceback (most recent call last):\r\nweblate_1   |   File \"/app/local/lib/python2.7/site-packages/django/core/handlers/exception.py\", line 39, in inner\r\nweblate_1   |     response = get_response(request)\r\nweblate_1   |   File \"/app/local/lib/python2.7/site-packages/django/core/handlers/base.py\", line 249, in _legacy_get_response\r\nweblate_1   |     response = self._get_response(request)\r\nweblate_1   |   File \"/app/local/lib/python2.7/site-packages/django/core/handlers/base.py\", line 187, in _get_response\r\nweblate_1   |     response = self.process_exception_by_middleware(e, request)\r\nweblate_1   |   File \"/app/local/lib/python2.7/site-packages/django/core/handlers/base.py\", line 185, in _get_response\r\nweblate_1   |     response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\nweblate_1   |   File \"/app/local/lib/python2.7/site-packages/django/views/decorators/cache.py\", line 57, in _wrapped_view_func\r\nweblate_1   |     response = view_func(request, *args, **kwargs)\r\nweblate_1   |   File \"/app/local/lib/python2.7/site-packages/django/views/decorators/csrf.py\", line 58, in wrapped_view\r\nweblate_1   |     return view_func(*args, **kwargs)\r\nweblate_1   |   File \"/app/local/lib/python2.7/site-packages/social/apps/django_app/utils.py\", line 51, in wrapper\r\nweblate_1   |     return func(request, backend, *args, **kwargs)\r\nweblate_1   |   File \"/app/local/lib/python2.7/site-packages/social/apps/django_app/views.py\", line 28, in complete\r\nweblate_1   |     redirect_name=REDIRECT_FIELD_NAME, *args, **kwargs)\r\nweblate_1   |   File \"/app/local/lib/python2.7/site-packages/social/actions.py\", line 44, in do_complete\r\nweblate_1   |     user = backend.complete(user=user, *args, **kwargs)\r\nweblate_1   |   File \"/app/local/lib/python2.7/site-packages/social/backends/base.py\", line 41, in complete\r\nweblate_1   |     return self.auth_complete(*args, **kwargs)\r\nweblate_1   |   File \"/app/local/lib/python2.7/site-packages/social/utils.py\", line 246, in wrapper\r\nweblate_1   |     return func(*args, **kwargs)\r\nweblate_1   |   File \"/app/local/lib/python2.7/site-packages/social/backends/oauth.py\", line 385, in auth_complete\r\nweblate_1   |     state = self.validate_state()\r\nweblate_1   |   File \"/app/local/lib/python2.7/site-packages/social/backends/oauth.py\", line 88, in validate_state\r\nweblate_1   |     raise AuthStateMissing(self, 'state')\r\nweblate_1   | AuthStateMissing: Session value state missing.\r\n```\r\n\r\nso yeah, maybe some one more familiar with psa can add it to be included in distribution and be documented", "I'm using partial pipelines to append fields to `details`. Those fields are used in my `create_user` for other things than storing them on the user object.\r\n\r\nHowever because of this commit: https://github.com/omab/python-social-auth/commit/9f86059e9d8070bc5ecd7ba069fadab1c9bf502a\r\n\r\nIntegrityErrors (user email already exists) the exception handling will now try to look up the user using all the fields from args and kwargs. This includes all fields from `details`. This will result in a FieldError from Django because not all fields from `details` are found on the user model", "This will prevent unexpected behaviour when `AbstractUserSocialAuth` is subclassed.", "Attempted fix for https://github.com/omab/python-social-auth/issues/997", "VK OAuth2 used api v 3.0, but ID_KEY for this version is `uid`. You can see it at https://api.vk.com/method/users.get?user_ids=210700286&v=3.0 (Url [source](https://vk.com/dev/api_requests))\r\n\r\nVK team will [remove](https://vk.com/dev/roadmap) old versions for api at January 2017. They wrote about it [here](https://vk.com/apiclub?w=wall-1_340400).", "How do I configure django admin to use python-social-auth instead of its default login form?", "*Before* submitting a pull request, please make sure the following is done...\r\n\r\n1. Fork the repo and create your branch from `master`.\r\n2. If you've added code that should be tested, add tests!\r\n3. If you've changed APIs, update the documentation.\r\n4. Ensure the test suite passes (`npm test`).\r\n5. Make sure your code lints (`npm run lint`) - we've done our best to make sure these rules match our internal linting guidelines.\r\n6. If you haven't already, complete the [CLA](https://code.facebook.com/cla).\r\n\r\nCorrected ES6 classes documentation link", "*Before* submitting a pull request, please make sure the following is done...\r\n\r\n1. Fork the repo and create your branch from `master`.\r\n2. If you've added code that should be tested, add tests!\r\n3. If you've changed APIs, update the documentation.\r\n4. Ensure the test suite passes (`npm test`).\r\n5. Make sure your code lints (`npm run lint`) - we've done our best to make sure these rules match our internal linting guidelines.\r\n6. If you haven't already, complete the [CLA](https://code.facebook.com/cla).\r\n\r\nCorrected ES6 classes documentation link", "This PR has a **breaking change**.\r\n\r\nSupporting all lifecycle methods in ShallowRender merged at #4993, but reverted at #5394.\r\nThe reason why the PR is reverted is that it didn't support string `refs`.\r\n\r\nThis PR is fixed it.\r\n\r\nCurrently, ShallowRender is replacing `_renderValidatedComponent` with `_renderValidatedComponentWithoutOwnerOrContext`, which it seems to be a little hacky.\r\n\r\n```\r\n-    _renderValidatedComponent:\t\t\r\n-      ReactCompositeComponent\t\t\r\n-        ._renderValidatedComponentWithoutOwnerOrContext,\r\n```\r\n\r\nI think it's better to assign `null` to `_onwer` filed.", "**Description:**\r\nAs described in #7325, there should be a warning emitted when somebody uses shady dom with React.\r\n\r\n#7383 & #7537 attempted to solve this issue, however they have not been updated or corrected in months. This PR is informed by those discussions and combines those findings into this completed solution with tests.\r\n\r\n**Changes Proposed:**\r\nThis PR fulfills all requirements set by @gaearon's comments: https://github.com/facebook/react/pull/7537#issuecomment-241505692 & https://github.com/facebook/react/pull/7537#issuecomment-241522862\r\n\r\n- [x] Add `isCustomComponentTag` boolean to the _updateDOMProperties signature as its last argument to avoid calling `isCustomComponent(this._tag, props)` multiple times\r\n- [x] Add call for `var isCustomComponentTag = isCustomComponent(this._tag, props)` to both `mountComponent()` and `updateComponent()` to be consumed by `_updateDOMProperties`\r\n\r\nAs per the requirements for this warning, it will only emit to console when:\r\n- [x] shadyRoot exists on the DOM element\r\n- [x] only do this in ReactDOMComponent.mountComponent in DEV\r\n- [x] only perform the check if isCustomComponent(this._tag, props) is true\r\n- [x] Emit only once even when mounting multiple components using a check for `didWarnShadyDom`\r\n\r\nAlso, tests have been added for this warning:\r\n- [x] Sets a fake `document.createElement` to simulate the creation of the `shadyRoot` property and returns `document.createElement`'s original functionality after resolution, regardless of tests passing/failing.\r\n- [x] Checks for the shady dom warning emitted when the above requirements are met.\r\n- [x] Tests that the warning is emitted only **once** even when mounting multiple components to prevent spamming the console.\r\n\r\n-----\r\ncc: @gaearon ", "", "- Translate the English text to Korean in CommentBox.\r\n- Improve translation about inserting raw HTML using remarkable.", "This is spill-over from #7707 that I don't plan on doing in the initial batch.\r\n\r\n- [ ] Fix text node merging edge case... Search forward to find the next sibling, swap out the end of the text node to the sum of the previous value of the siblings. This trick lets us avoid back-references.\r\n- [ ] Have tag include children updated so that you can recalculate all children if needed. E.g. coroutines. Alternatively, pass the nearest host or coroutine down the tree so that it can be quickly flagged as child changed and insert/moves can be avoided to be added to the side-effect list for coroutines. The second option is probably better.\r\n- [ ] Possibly use two side-effect lists so that two passes are not needed and forward order is possible.\r\n- [ ] Remove the notion of `output`? Unnecessary extra traversal and requires duck typing to know which is terminal.\r\n- [ ] Reconsider if we need backpointers. There are several optimizations that are possible with them but uses more memory.\r\n", "**Do you want to request a *feature* or report a *bug*?**\r\nThis is a feature request.\r\n\r\n**What is the current behavior?**\r\nThere doesn't appear to be a way to pass context when calling `renderer.create`\r\n\r\nI'm attempting to use snapshot testing in Jest with a component that uses `react-intl`. If I could provide context, I could create a similar [helper function to those for enzyme](https://github.com/yahoo/react-intl/wiki/Testing-with-React-Intl#helper-function-1).\r\n\r\n**What is the expected behavior?**\r\nBe able to provide a context, similar to `shallowRenderer.render`: https://github.com/facebook/react/issues/3721\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\n\r\nI'm using React 15.13.2 and haven't tried any previous versions of React.", "# data-* atributes not updating\r\n\r\nI'm using react + redux, I have some input fields with the data-error atribute.\r\nThe data-error property is used to give feedback to the user if some field is not valid.\r\n\r\nThe inital state looks like this:\r\n```javascript\r\n{\r\n  error: {\r\n    invalidName: false\r\n  }\r\n}\r\n```\r\n\r\nthe component looks like this\r\n\r\n```javascript\r\nconst Component = ({ error, onSubmit }) => {\r\n  const { invalidName } = error\r\n  return <form onSubmit={onSubmit}>\r\n    ...\r\n    <input type='text' name='fullName' data-error={invalidName} />\r\n  </form>\r\n}\r\n```\r\n\r\nand its passed to the component via  `connect`\r\n\r\n```javascript\r\nconst mapStateToProps = ({ error }) => ({\r\n  error\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  ...\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Component)\r\n```\r\n\r\nWhen I hit submit a helper validates the data, and if the data is not valid\r\nthe helper calls a reducer that return something like this\r\n\r\n```javascript\r\n{\r\n  ...state,\r\n  error: {\r\n    invalidName: true,\r\n    ...state.error\r\n  }\r\n}\r\n```\r\n\r\nI am using Redux Logger and when I inspect the `nextState` I get the desired state,\r\nbut the `data-error` continues to be `false` instead of `true`", "I've found a bug.\r\n\r\nI've attached event listener with `onClick` property like this:\r\n\r\n```jsx\r\n<a href=\"#\" onClick={function (event) {\r\n    console.log(arguments.length);   // prints 2\r\n    // arguments[0] = SyntheticEvent - it's ok\r\n    // arguments[1] = undefined - what is this???\r\n}}>Click me</a>\r\n```\r\n\r\nThe event listener called with 2 arguments: synthetic event and strange undefined value.\r\n\r\nI think, normal behavior is when handler called with a *single* param - event object.\r\n\r\nWindows 10. Chrome 53. React version - 15.2.0.\r\n", "To use a Web Component in React, you must directly attach an event listener to the React ref for that WC. We could change the implementation so that when React detects a custom element (tag names with dashes, like `my-component`), it will bypass the synthetic event system (and the whitelist) and just attach the event listener on the element itself.\r\n\r\nWhy bypass the synthetic event system? Because **anyway** we already need to bypass it manually when using a Web Component. I'm not so familiar with the React codebase, but this naive approach seems to work. Whoever uses Web Components in React can be responsible for whatever downsides that would cause, maybe in performance, I don't know. They are already having those (supposed) downsides, this issue is just about the convenience of WC usage inside React.\r\n\r\nI was about to send a PR for this, but thought of opening an issue. I looked through the issues and didn't see any existing one related to the handling of WC events.\r\n\r\n**What is the current behavior?**\r\n\r\nA WC custom event (e.g. `flipend`) must be handled by attaching the event listener directly to the element in componentDidMount using a ref.\r\n\r\nhttp://jsbin.com/yutocopasu/1/edit?js,output\r\n\r\nReact v15.1.0\r\n\r\n```js\r\nclass HelloMessage extends React.Component {\r\n  handleHelloClick() {\r\n    this.refs['foo'].toggle();\r\n  }\r\n  \r\n  handleFlipend(ev) {\r\n    console.log('Handle flip end');\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.refs['foo'].addEventListener('flipend', ev =>\r\n      this.handleFlipend(ev);\r\n    );\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div>\r\n        <div onClick={ev => this.handleHelloClick()}>\r\n          Hello {this.props.name}, click me!\r\n        </div>\r\n        <brick-flipbox class=\"demo\" ref=\"foo\">\r\n          <div>front</div>\r\n          <div>back</div>\r\n        </brick-flipbox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n```\r\n\r\n**What is the expected behavior?**\r\n\r\nA WC custom event can be handled with `onMyEvent={ev => this.handleMyEvent(ev)}` on the ReactElement corresponding to the WC.\r\n\r\n```js\r\nclass HelloMessage extends React.Component {\r\n  handleHelloClick() {\r\n    this.refs['foo'].toggle();\r\n  }\r\n  \r\n  handleFlipend(ev) {\r\n    console.log('Handle flip end');\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div>\r\n        <div onClick={ev => this.handleHelloClick()}>\r\n          Hello {this.props.name}, click me!\r\n        </div>\r\n        <brick-flipbox onFlipend={ev => this.handleFlipend(ev)} class=\"demo\" ref=\"foo\">\r\n          <div>front</div>\r\n          <div>back</div>\r\n        </brick-flipbox>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nPS: this snippet above still has the `ref`, but for unrelated reasons. Ideally we wouldn't need refs for handling events of WCs.", "**Do you want to request a *feature* or report a *bug*?**\r\nReport a bug / confusion point\r\n\r\n**What is the current behavior?**\r\nImplementing `shallowCompare` inside `shouldComponentUpdate` will always return true if you do not pass `nextState` param.\r\n```js\r\n// In a component without state you would not want to pass nextState\r\nshouldComponentUpdate(nextProps) {\r\n  return shallowCompare(this, nextProps) // => always true if you don't pass nextState\r\n}\r\n```\r\n\r\n**What is the expected behavior?**\r\nI would expect the `shallowCompare` method to handle cases where `nextState` is not passed in OR for the documentation to be more clear, stating that you MUST pass `nextState`.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nI am using React 15.2.0. This is not specific to any browser or OS.\r\n", "While using \"React.js\" I found a bug where most marquee tag attributes weren't rendering. After some digging i figured that it's because React renderer doesn't consider them valid. This patch fixes the problem.\r\n", "# BUG\r\n\r\n### Current Behavior\r\nUsing a standard `<input type=\"number\" onKeyDown={ this.myKeyDownEvent } />` with an onKeyDown event, the SyntheticEvent.key property is \"unidentified\" in Safari, for any key pressed.\r\n\r\n**FIDDLE: ** https://jsfiddle.net/protectedvoid/u9mtvoyr/\r\n\r\n### Expected Behavior\r\nSyntheticEvent.key should provide the proper values for all standard keyboard inputs (letters, numbers, numberpad, arrows, backspace, etc), as it does in Chrome (since both are webkit-based browsers).\r\n\r\n### Version Info\r\n- Mac OSX El Capitan\r\n- React 15.3.2\r\n- Safari 9.1.3\r\n", "Based on [Component Lifecycle](https://facebook.github.io/react/docs/working-with-the-browser.html#component-lifecycle) from [Working with the browser](https://facebook.github.io/react/docs/working-with-the-browser.html), with some minor formatting changes to make this more readable.\r\n\r\n![screencapture-localhost-4000-react-docs-the-component-lifecycle-html-1475717882950](https://cloud.githubusercontent.com/assets/165856/19137735/ed7b8dc0-8b2a-11e6-93a1-2f7bd431322a.png)\r\n", "Calling it modern feels weird although modern and classic are the internal folder names.\r\n\r\nThere\u2019s been some chatter about `createClass` and `PropTypes` being generally in maintenance mode as `class` and `Flow` are the future. I was playing around with the build system anyway (see #7850 and https://twitter.com/iamdustan/status/783701952483856384) so decided to try to create a build removing `createClass` and `DOMFactories`. Potentially `createFactory` and `createMixin` could be removed as well.\r\n\r\nThe build of react-slim.js vs react.js is displayed in the screenshot below:\r\n<img width=\"511\" alt=\"screen shot 2016-10-05 at 9 14 54 pm\" src=\"https://cloud.githubusercontent.com/assets/227879/19137308/d084b2b2-8b40-11e6-9c0f-798cfef0c832.png\">\r\n\r\n**Diff**\r\n```\r\nreact-slim vs react: -31,869\r\nreact-slim.min vs react.min: -5,755\r\n```\r\n\r\nRemoving PropTypes may be problematic due to `context` still using it? This is part of an experiment I\u2019m considering that would convert https://github.com/reactjs/react-codemod/blob/master/transforms/class.js to a `babel` transform to run over arbitrary components outside of direct control (aka `babel` over `node_modules`. Heresy, heresy!)", "**Bug**\r\n\r\n**Current behavior:**\r\n\r\nI am attempting to load data from an API, display, and then scroll to a URL fragment deep in the document. Window only partially scrolls.\r\n\r\nThis may have more to do with browser behavior but I can't figure out how to reliably wait for content to be painted before scrolling it into view on the first attempt.\r\n\r\n**Here's an example showing the issue:**\r\n\r\n1. open a _new_ incognito (Chrome) or private (Firefox) window.\r\n2. paste (or type, sorry FF) this URL - https://jsbin.com/pecuxi/8/edit?js,console,output\r\n\r\n* data will be loaded from iTunes and saved to state\r\n* `render` is triggered\r\n* `componentDidUpdate` is triggered\r\n* `window.requestAnimationFrame` is used to let DOM painting occur\r\n* DOM node deep in document is queried and attempted to scroll into view (correct node has a red background)\r\n\r\nI've never seen this work with a fresh incognito/private window.\r\n\r\n[Here's an issue](https://github.com/facebook/react/issues/2659) where using `requestAnimationFrame` is suggested.\r\n[Here is a SO answer with discussion about this.](http://stackoverflow.com/a/28748160/184532)\r\n\r\n**What is the expected behavior?**\r\nDOM node scrolled into view\r\n\r\n**Versions of React:** `15.1+`\r\n\r\n**Browsers / OS:** `Mac OS X 10.11.6`\r\n\r\n**Did not work with previous versions of React**\r\n", "This is an important section that I think a lot of folks end up piecemealing on their own. It would be super useful in terms of ecosystem support. ", "Because my [pull request](https://github.com/facebook/react/pull/7843) was closed, and I couldn't find any mention of this specific behavior in the documentation.\r\n\r\n![screencapture-localhost-4000-react-docs-webcomponents-html-1475638181714](https://cloud.githubusercontent.com/assets/995280/19100265/2688cbc4-8af8-11e6-8e2f-e39cae3d8a71.png)\r\n\r\n\r\n", "Still working on this, but it's getting close to being ready. The main example is based on [Dan's blog post](https://facebook.github.io/react/blog/2016/07/13/mixins-considered-harmful.html).\r\n\r\nI've avoided any discussion of mixins, since these are new docs and mixins are effectively deprecated. What do people think of this? Should we at least mention that they exist, even if we don't want people to use them?\r\n\r\nAfter this, I'll work on a companion doc about render callbacks that compares the two approaches.", "Fixes #427 \r\n\r\ndda228b90e5676611a7c324aebf12b2751321410 depends on https://github.com/facebook/fbjs/pull/188 to actually work. With the current version of fbjs, the doc argument will be ignored and `getActiveElement` will execute relative to the global `document`.\r\n\r\nHad some more tests for `ReactInputSelection` that rely on DOM functionality that jsdom doesn\u2019t yet support. Includes this block, for `setSelection`, but requires a working `getSelection()` implementation (see https://github.com/tmpvar/jsdom/issues/937):\r\n\r\n```js\r\n    it('sets selection offsets on a contentEditable element', () => {\r\n      var node = createAndMountElement('div', null, textValue);\r\n      ReactInputSelection.setSelection(node, {start: 1, end: 10});\r\n      expect(ReactInputSelection.getSelection(node)).toEqual({start: 1, end: 10});\r\n    });\r\n```\r\n\r\nAlso, had a suite for `getSelectionInformation/restoreSelection` for a focused element inside an iframe, but it requires jsdom to have accurate `activeElement` functionality with iframes. I made a PR to fix that part of jsdom (https://github.com/tmpvar/jsdom/pull/1621), so hopefully when that functionality gets added, I can add these tests in:\r\n\r\n```js\r\n    it('gets and restores selection for inputs in an iframe that get remounted', () => {\r\n      var iframe = document.createElement('iframe');\r\n      document.body.appendChild(iframe);\r\n      iframe.focus();\r\n      var iframeDoc = iframe.contentDocument;\r\n      var input = document.createElement('input');\r\n      input.value = textValue;\r\n      iframeDoc.body.appendChild(input);\r\n      input.focus();\r\n      input.selectionStart = 1;\r\n      input.selectionEnd = 10;\r\n      var selectionInfo = ReactInputSelection.getSelectionInformation();\r\n      expect(selectionInfo.focusedElem).toBe(input);\r\n      expect(selectionInfo.selectionRange).toEqual({start: 1, end: 10});\r\n      expect(document.activeElement).toBe(iframe);\r\n      expect(iframeDoc.activeElement).toBe(input);\r\n    \r\n      input.setSelectionRange(0, 0);\r\n      iframeDoc.body.removeChild(input);\r\n      expect(iframeDoc.activeElement).not.toBe(input);\r\n      expect(input.selectionStart).not.toBe(1);\r\n      expect(input.selectionEnd).not.toBe(10);\r\n      iframeDoc.body.appendChild(input);\r\n      ReactInputSelection.restoreSelection(selectionInfo);\r\n      expect(iframeDoc.activeElement).toBe(input);\r\n      expect(input.selectionStart).toBe(1);\r\n      expect(input.selectionEnd).toBe(10);\r\n    \r\n      document.body.removeChild(iframe);\r\n    });\r\n```", "We are currently working on a revamp of the docs.\r\nThis means we won\u2019t be able to review new PRs to docs for two weeks until we ship this.\r\n\r\nThis PR is used to keep track of the overall effort.\r\n\r\nTODO:\r\n\r\n- [ ] Write the new docs (team members, feel free to add your own todos here)\r\n- [ ] Find a place for refs, dangerouslySetInnerHTML\r\n- [ ] Choose a single call to action on the homepage or make them different enough @lacker\r\n- [ ] Cross-reference docs\r\n- [ ] Consider embedding Codepen snippets everywhere\r\n- [ ] Remove temporary folder names (e.g. `docs-new`) and fix permalinks\r\n- [ ] Use `babel-standalone` instead of `babel-browser` everywhere (#7668)\r\n- [ ] Set up redirects to handle all 404s gracefully\r\n- [ ] Be consistent in using `const`", "Implements #7856 \r\n", "When you do `<Foo />` but Foo is not a valid string or function, we show an error message:\r\n\r\nhttps://github.com/facebook/react/blob/92c84a6f37245f4fbe3ce5dc50845856201637fa/src/isomorphic/classic/element/ReactElementValidator.js#L196\r\n\r\nWe include the owner name (\"Please check the render method of Bar.\") but not the full parent stack which we show for some of our other warnings like key warnings and prop types. We should call into ReactComponentTreeHook to get the full stack if possible. ", "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty#Using_hasOwnProperty_as_a_property_name", "I\u2019m working through upgrading some renderers and documentation to the current master build (installing from http://react.zpao.com/builds/master/latest/).\r\n\r\nFrom following along I knew there were some hard breaking changes I wanted to begin a discussion on what commitments React is willing to make at this time to support this use case.\r\n\r\nRather than trying to figure all of the current APIs needed up front I\u2019d like to begin this by looking at the `Mount* entry point and discuss what APIs could be exposed and which should be covered in other APIs.\r\n\r\n## ReactMount\r\n\r\n[ReactMount](https://github.com/facebook/react/blob/eaefd9052ae41d3318a2add286828a75da362193/src/renderers/dom/client/ReactMount.js), [ReactNativeMount](https://github.com/facebook/react/blob/1c5a639c37039a9c60752980dfee168129b76b32/src/renderers/native/ReactNativeMount.js), and [ReactTestMount](https://github.com/facebook/react/blob/c78464f8ea9a5b00ec80252d20a71a1482210e57/src/renderers/testing/ReactTestMount.js) are the entry points to three Facebook/React supported renderers. They all live in this codebase and have first class access to a number of internals that external renderers do not currently get.\r\n\r\nSpecifically, a few modules that each access are:\r\n\r\n* [`ReactReconciler`](https://github.com/facebook/react/blob/dd0c65c6aa7c80eeeb0783e29bef89399b5796af/src/renderers/shared/stack/reconciler/ReactReconciler.js)\r\n* [`instantiateReactComponent`](https://github.com/facebook/react/blob/dd0c65c6aa7c80eeeb0783e29bef89399b5796af/src/renderers/shared/stack/reconciler/instantiateReactComponent.js) a helper function to create the correct React Component type (host, composite, text, ...). Also a part of the reconciler\r\n* [`ReactUpdates`](https://github.com/facebook/react/blob/a3e576e1bb80f674fa685966ce415fc65238638c/src/renderers/shared/stack/reconciler/ReactUpdates.js) : my understanding is this is a part of ReactReconciler\r\n* [`ReactInstrumentation`](https://github.com/facebook/react/blob/0d927844fba35df4956e904fdb33e2f7a034eace/src/renderers/shared/ReactInstrumentation.js) bridge between React internals and devtools (not limited to just the [React DevTools](https://github.com/facebook/react-devtools/)\r\n\r\n(There are a few other modules that I see used between FB and my own renderers beyond these that may be worth future consideration, though these are what I understand to be the most important to unblock renderer development.)\r\n\r\nMy understanding is that a renderers `Mount` method is dependent upon the reconciler to bridge the renderer semantics to React core. The reconciler has become effectively private and non-shareable with the recent build changes.\r\n\r\nWhat can be done today to allow renderers to continue existing and experimenting in the 16.x release cycle?\r\n\r\nA few initial ideas to get feedback on for possible direction (if any) would be acceptable. With both of these ideas comes developer/console warnings that this is an unsupported and non-guaranteed API that could break at any moment including patch releases:\r\n\r\n* Expose minimal Reconciler surface area\r\n* Create a `ReactReconciler` package", "Having issues developing on windows (7) on a fresh install (master).\r\n\r\nRunning `npm test` causes all 118 test suites to fail with the error:\r\n\r\n![image](https://cloud.githubusercontent.com/assets/5804010/19039654/bf3e3736-8978-11e6-9483-babae236e498.png)\r\n\r\nChanging `testRegex` in the `package.json from `/__tests__/` to just `__tests__` seems to fix those issues, because the last character is an escape character, it's invalid regex.\r\n\r\nThere is another regex error though:\r\n\r\n![image](https://cloud.githubusercontent.com/assets/5804010/19039859/873953e2-8979-11e6-84ff-fb93eb7a395c.png)\r\n\r\nNot sure where that regex comes from though...\r\n\r\nThere is also a 3rd error\r\n\r\n![image](https://cloud.githubusercontent.com/assets/5804010/19040014/1f051e04-897a-11e6-92a5-bd25752ddf3d.png)\r\n\r\nwhich just looks like a unix -> git bash crossover issue. Possibly another escape character issue.\r\n\r\nDoes anyone run on windows and had similar issues?", "**What is the current behavior?**\r\nIf I write a JSX component without an upper case, React gives me the [unknown prop warning](https://facebook.github.io/react/warnings/unknown-prop.html)\r\nI finally remember that \r\n\r\n> React's JSX uses the upper vs. lower case convention to distinguish between local component classes and HTML tags.\r\n\r\nBut I think it could be useful to remind it in the unknown props warning page as a reason of this warning.\r\nI spent some time debugging and not understanding this warning in this case. And I might not be the only one! \r\n\r\n**What is the expected behavior?**\r\nUpdate [unknown props warning page](https://facebook.github.io/react/warnings/unknown-prop.html) and add a reason this warning could be appearing:\r\n4. You are using a JSX component without an upper case. React treats it as an HTML tag and probably doesn't recognize its props. React's JSX uses the upper vs. lower case convention to distinguish between local component classes and HTML tags.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nI use React 15.2.1\r\n\r\nLet me know if you think it could be useful or it's just me who hasn't been enough careful!", "**What is the current behavior?**\r\nUsing web components with React is cumbersome, as properties such as `className` are being copied as attributes without transforming them to `class`. [A lot](https://github.com/facebook/react/issues/4933#issuecomment-145951830) has been said about this, but it can be very confusing for developers who are trying to use web components using React.\r\n\r\n**What is the expected behavior?**\r\nMuch like how using `class` as a property logs a warning, I suggest that if a property key exists in `DOMProperty.properties` we raise a similar when warning when `__DEV__` is `true`, so the user knows that what is happening is expected behavior, not a bug.\r\n\r\nIf my proposal is acceptable, I have a PR that is ready to be sent out. \r\n\r\nThoughts?\r\n", "**What is the current behavior?**\r\nAfter rendering a React view on the server, React appears to mount without errors on the client but does not remove the `data-reactid` and `data-react-checksum` attributes from the DOM. So far I've only observed the issue when using React Router v4 (also reported as ReactTraining/react-router#3984), but the RR folks have characterized it as a React issue.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem.**\r\nRepro repo at <https://github.com/phyllisstein/react-router-v4-isomorphic-glitch>.\r\n\r\n**What is the expected behavior?**\r\nWhen mounting, React should remove the extra attributes from the DOM.\r\n\r\n**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**\r\nReact v15.3.2, in all browsers tested so far (Chrome, Safari, IE). Does not appear to get better after rolling back to earlier React versions, but could not be reproduced with React Router < 4.\r\n\r\n- - -\r\n\r\nHappy to provide as much debugging information as I can, but honestly not sure where to start troubleshooting on my own. Thanks in advance for any guidance or illumination you can provide!", "The changes to the DOF manager to support high order broke the nightly tests. It appears -1 are being put in as element GIDs. This is causing substantial problems. The fix is not yet clear. Though I have (locally) added a test that exercises the precise issue (the failing of the FilteredUGI test was simply an indicator of a problem). @rppawlo @kyungjoo-kim ", "This depends on https://github.com/kokkos/kokkos/issues/290.  (See also https://github.com/kokkos/kokkos/issues/290 , marked as redundant.)\r\n\r\nOnce the above Kokkos issue is fixed, we'll be able to assign from a CudaUVMSpace View to a CudaSpace View.  This will let us just instantiate kernels for CudaSpace.\r\n\r\n@trilinos/tpetra ", "Kokkos/develop has moved AllowPadding and WithoutInitializing out of the Kokkos::Experimental namespace, into the Kokkos namespace.  Once this gets moved into Kokkos/master and snapshotted into Trilinos, change Trilinos downstream code accordingly.\r\n\r\nhttps://github.com/kokkos/kokkos/issues/325\r\n@trilinos/tpetra \r\n@trilinos/stokhos \r\n@trilinos/sacado \r\n@trilinos/shylu \r\n@trilinos/stk ", "@trilinos/tpetra \r\n@tjfulle asks this.  Maybe this could be like Kokkos' tutorial, with a simple Makefile in each directory.", "@trilinos/tpetra \r\nThis depends on #654.", "We have added some code to EnhancedNumberValidator so it will handle strings.\r\nThis creates some duplication with AnyNumberParameterEntryValidator.\r\n\r\nThe task will be to reorganize the validator classes to eliminate the duplication. This has been discussed in issue #612.\r\n\r\nThe general plan would be to create a [composite class](https://en.wikipedia.org/wiki/Composite_pattern) that will allow of stringing together validators including AnyNumberParameterEntryValidator and EnhancedNumberValidator.\r\n\r\n**Tasks:**\r\n1. Create a CompositeParameterEntryValidator subclass and add unit tests (including stringing together AnyNumberParameterEntryValidator and EnhancedNumberValidator with all the various use cases).\r\n2. Refactor Zoltan2 code to use new CompositeParameterEntryValidator subclass with AnyNumberParameterEntryValidator and EnhancedNumberValidator objects.\r\n3. Remove all the string handling from EnhancedNumberValidator (since string conversions will now be handled with AnyNumberParameterEntryValidator that does the conversions).\r\n4. Remove some unit tests added for EnhancedNumberValidator accepting strings.\r\n", "Need some changes to sacado view factory to support kokkos subviews of fad types. This is blocking #274. Email describing issue is below.\r\n\r\n@kyungjoo-kim @etphipp @trilinos/panzer @trilinos/sacado \r\n\r\nOkay. I looked at this problem and found an issue in createDynRankView in View Factory.\r\n\r\nWhen we use subview of a view, it returns strided layout and this layout is inherited to view factory. This is wrong. It has to be either left/right layout. Eric P knows this and he will fix the problem and add unit tests for that. I think we should call it a day for now. Without that FAC machinery, I cannot make the code correct. \r\n\r\nBest,\r\nKyungjoo\r\n\r\n```\r\n[ 22%] Building CXX object packages/panzer/disc-fe/src/CMakeFiles/panzer-disc-fe.dir/Panzer_IntegrationValues2.cpp.o\r\nIn file included from /ascldap/users/rppawlo/Trilinos/packages/intrepid2/refactor/src/Cell/Intrepid2_CellTools.hpp:1580:0,\r\n                 from /ascldap/users/rppawlo/Trilinos/packages/intrepid2/refactor/src/Discretization/Integration/Intrepid2_CubatureControlVolume.hpp:56,\r\n                 from /ascldap/users/rppawlo/Trilinos/packages/panzer/disc-fe/src/Panzer_IntegrationRule.hpp:54,\r\n                 from /ascldap/users/rppawlo/Trilinos/packages/panzer/disc-fe/src/Panzer_IntegrationValues2.hpp:50,\r\n                 from /ascldap/users/rppawlo/Trilinos/packages/panzer/disc-fe/src/Panzer_IntegrationValues2.cpp:43:\r\n/ascldap/users/rppawlo/Trilinos/packages/intrepid2/refactor/src/Cell/Intrepid2_CellToolsDefPhysToRef.hpp: In instantiation of \u2018static void Intrepid2::CellTools<ExecSpaceType>::mapToReferenceFrameInitGuess(Kokkos::Experimental::DynRankView<DT, DP ...>, Kokkos::Experimental::DynRankView<cubWeightValueType, cubWeightProperties ...>, Kokkos::Experimental::DynRankView<inArray2ValueType, inArray2Properties ...>, Kokkos::Experimental::DynRankView<worksetCellValueType, worksetCellProperties ...>, HGradBasisPtrType) [with refPointValueType = Sacado::Fad::DFad<double>; refPointProperties = {Kokkos::OpenMP}; initGuessValueType = double; initGuessProperties = {Kokkos::OpenMP}; physPointValueType = Sacado::Fad::DFad<double>; physPointProperties = {Kokkos::OpenMP}; worksetCellValueType = Sacado::Fad::DFad<double>; worksetCellProperties = {Kokkos::OpenMP}; HGradBasisPtrType = Teuchos::RCP<Intrepid2::Basis<Kokkos::OpenMP, Sacado::Fad::DFad<double>, double> >; ExecSpaceType = Kokkos::OpenMP]\u2019:\r\n/ascldap/users/rppawlo/Trilinos/packages/intrepid2/refactor/src/Cell/Intrepid2_CellTools.hpp:1212:35:   required from \u2018static void Intrepid2::CellTools<ExecSpaceType>::mapToReferenceFrameInitGuess(Kokkos::Experimental::DynRankView<DT, DP ...>, Kokkos::Experimental::DynRankView<cubWeightValueType, cubWeightProperties ...>, Kokkos::Experimental::DynRankView<inArray2ValueType, inArray2Properties ...>, Kokkos::Experimental::DynRankView<worksetCellValueType, worksetCellProperties ...>, shards::CellTopology) [with refPointValueType = Sacado::Fad::DFad<double>; refPointProperties = {Kokkos::OpenMP}; initGuessValueType = double; initGuessProperties = {Kokkos::OpenMP}; physPointValueType = Sacado::Fad::DFad<double>; physPointProperties = {Kokkos::OpenMP}; worksetCellValueType = Sacado::Fad::DFad<double>; worksetCellProperties = {Kokkos::OpenMP}; ExecSpaceType = Kokkos::OpenMP]\u2019\r\n/ascldap/users/rppawlo/Trilinos/packages/intrepid2/refactor/src/Cell/Intrepid2_CellToolsDefPhysToRef.hpp:96:33:   required from \u2018static void Intrepid2::CellTools<ExecSpaceType>::mapToReferenceFrame(Kokkos::Experimental::DynRankView<DT, DP ...>, Kokkos::Experimental::DynRankView<cubWeightValueType, cubWeightProperties ...>, Kokkos::Experimental::DynRankView<inArray2ValueType, inArray2Properties ...>, shards::CellTopology) [with refPointValueType = Sacado::Fad::DFad<double>; refPointProperties = {Kokkos::OpenMP}; physPointValueType = Sacado::Fad::DFad<double>; physPointProperties = {Kokkos::OpenMP}; worksetCellValueType = Sacado::Fad::DFad<double>; worksetCellProperties = {Kokkos::OpenMP}; ExecSpaceType = Kokkos::OpenMP]\u2019\r\n/ascldap/users/rppawlo/Trilinos/packages/panzer/disc-fe/src/Panzer_IntegrationValues2.cpp:578:5:   required from \u2018void panzer::IntegrationValues2<Scalar>::evaluateValuesCV(const PHX::MDField<Scalar, panzer::Cell, panzer::NODE, panzer::Dim>&) [with Scalar = Sacado::Fad::DFad<double>]\u2019\r\n/ascldap/users/rppawlo/Trilinos/packages/panzer/disc-fe/src/Panzer_IntegrationValues2.cpp:598:1:   required from here\r\n/ascldap/users/rppawlo/Trilinos/packages/intrepid2/refactor/src/Cell/Intrepid2_CellToolsDefPhysToRef.hpp:182:25:error: cannot convert \u2018std::enable_if<true, Sacado::Fad::ViewFad<double, 0u, 1u, Sacado::Fad::DFad<double> > >::type {aka Sacado::Fad::ViewFad<double, 0u, 1u, Sacado::Fad::DFad<double> >}\u2019 to \u2018double\u2019 in assignment\r\n             xOld(i,j,k) = refPoints(i,j,k);\r\n                         ^\r\n ```", "@trilinos/tpetra This depends on #654.  \r\n\r\nThe point of this issue is that Tpetra might not be able to trust the BLAS implementation to be threaded.  If TPETRA_USE_BLAS is true (has the value 1, or just plain is defined?), Tpetra should defer to the BLAS for GEMV and GEMM.  Otherwise, Tpetra should implement threading for these methods.  Tpetra may choose to call the underlying GEMV / GEMM implementation for single-thread kernels.", "This issue is an \"epic\" discussing Trilinos' planning for fiscal year 2017 (FY17).  It builds on interviews with key customers and meetings between Trilinos developers over the past couple weeks.  We will fill this in as soon as managers have the chance to review the plan.  We will put as many details as possible here on the public website, so that customers and other interested parties can see our plan for the upcoming year.\r\n\r\nI am assigning myself just to have someone to assign, not because I plan to do all the work myself ;-)", "@trilinos/tpetra Per request by @kddevin (see #674 discussion), add a `local_offset_type` typedef to Tpetra::CrsGraph and Tpetra::CrsMatrix.  This type tells users the type that Tpetra uses to store row offsets, in the local sparse graph / matrix.  The `local_` prefix makes it clear that this refers to the _local_ data structure.", "@bartlettroscoe @trilinos/stratimikos \r\n\r\nMichele Martone has been working on Epetra changes.  He has been trying to get the check-in test script to work.  When he enabled Epetra and disabled Kokkos explicitly, his SERIAL_RELEASE build got the following CMake errors:\r\n```\r\nProcessing enabled package: Stratimikos (Libs, Tests, Examples)\r\nCMake Error at cmake/tribits/core/utils/AssertDefined.cmake:79 (MESSAGE):\r\n  Error, the variable Tpetra_INST_DOUBLE is not defined!\r\nCall Stack (most recent call first):\r\n  packages/stratimikos/test/CMakeLists.txt:166 (ASSERT_DEFINED)\r\nCMake Error at cmake/tribits/core/utils/AssertDefined.cmake:79 (MESSAGE):\r\n  Error, the variable Tpetra_INST_INT_INT is not defined!\r\nCall Stack (most recent call first):\r\n  packages/stratimikos/test/CMakeLists.txt:167 (ASSERT_DEFINED)\r\n```\r\nDoes this mean that Stratimikos depends on Tpetra's CMake variables, but nevertheless does not declare a required dependency on Tpetra?  If so, this should be easy to fix: just have the above code check `DEFINED Tpetra_INST_DOUBLE` (etc.) before putting `Tpetra_INST_DOUBLE` (etc.) in an IF statement.", "Design and implement data structures for 1-ring support in worksets for DG capability", "@trilinos/panzer ", "#570 focused on making RILUK reusuable. As a side effect, it confined a memory transient (a CRS copy of the matrix) to initialize(); previously, it persisted over the lifetime of the RILUK object.\r\n\r\nThe objective of this issue is to remove the transient completely in most use cases.", "@ambrad @rppawlo @eric-c-cyr\r\n\r\nReported by @pwxy \r\n\r\n\"I'm running the drekar steady-state 3d MHD generator test case with tpetra/belos/muelu, and forcing the Krylov solver to always take 100 steps of TFQMR.  The memory usage appears to be growing, with maximum among the MPI processing being 303MB after the first newton step and 413 MB after the 6th newton step.  Maybe I'm missing something, but if I'm using TFQMR and running the same number of iterations per newton step, why should the max memory usage grow by 36% after 6 newton steps?  Seems to me that it should not be growing.  TFQMR is being preconditioned by MueLu with ifpack2 additive schwarz with one level of overlap.\"", "Tpetra uses offset_type for the offsets into the column pointers array.  From #153, it is difficult to tell whether this type is always size_t, or is sometimes int, or is sometimes defined by the node.  I am further confused because Tpetra::CrsMatrix::getAllValues uses size_t for the rowPointers; does it make a copy when offset_type is not size_t?  Does getAllValues() make copies of all three arrays?\r\n \r\nShould we assume that getAllValues will always return size_t rowPointers?  If not, we'll need Tpetra and Xpetra to add a public typedef allowing users to access the offset_type, similar to local_ordinal_type or global_ordinal_type.  \r\n\r\nThis request supports #665.  In Zoltan2, we had assumed offsets would be local_ordinal_type.  In order to use views of the offsets (instead of making copies in Zoltan2), we need to change our offsets to Tpetra's offset type.  But before we propagate this change through Zoltan2, we'd like to understand what offset_type really is, and whether we should use size_t everywhere or some other offset_type.  This is a change we'd like to propagate only once, so if there are plans for changes in the future, please let us know.  \r\n\r\nThanks.\r\n@trilinos/tpetra @trilinos/xpetra @trilinos/zoltan2 \r\n\r\n\r\n\r\n", "@trilinos/tpetra @ambrad \r\n\r\nThis relates to our discussion in #558.  To summarize: Ifpack2::AdditiveSchwarz is supposed to take responsibility for the initial Import. That Import results in an input (Multi)Vector for the subdomain solver. The subdomain solver thus should not have to do another Import. This implies that the subdomain solver's column Map should be the same as its domain Map.\r\n\r\nThis introduces a minor problem, namely that domain and range Maps are supposed to be one to one (nonoverlapping), yet the subdomain solver's \"domain Map,\" according to the criterion above, _must_ be overlapping over the original matrix's communicator.  The right way to fix this would be to restrict the subdomain solver's domain Map, so that its communicator only has one process. This correctly reflects that the subdomain solver only works on a single process. (A full generalization of AdditiveSchwarz that allows multiprocess subdomain solvers, would restrict the domain Map to the subdomain's subcommunicator.) As a result, after AdditiveSchwarz does its Import, what really should happen is that the resulting (Multi)Vector gets restricted to the subdomain's subcommunicator (which is MPI_COMM_SELF or its equivalent, in this case). This is a no-communication operation and _should_ not require copying any data.\r\n\r\nTpetra's way to implement that restriction, is to call Tpetra::Map's replaceCommWithSubset method.  It takes the subcommunicator as input, and returns a new Map with that subcommunicator as its communicator.  replaceCommWithSubset has collective semantics over the _subcommunicator_ (its input).  That's good in this case, because we're giving it `MPI_COMM_SELF`.  However, the implementation currently builds a new Map (e.g., new FixedHashTable), whether or not it needs to.  In particular, if the input subcomm is `MPI_COMM_SELF`, the output Map should just be able to get all its data directly from the input Map, without any error checking.  For example, if the input Map is noncontiguous, the output Map could just use its FixedHashTable directly.", "@trilinos/tpetra \r\n\r\nI'm looking in tpetra/kernels/src/stage/graph/impl/KokkosKernels_SPGEMM_mkl_impl.hpp.  I notice a macro KERNELS_HAVE_MKL.  This is some macro that gets defined somewhere by hand in the code.  It is not plugged into the CMake build system at all.  KokkosKernels already has a macro, HAVE_TPETRAKERNELS_MKL.  Please use that instead.  \"KERNELS_HAVE_MKL\" is too general of a name; it is likely to collide with other software library's macro.", "@trilinos/tpetra \r\n\r\nFor example, if the user requests a TPL (such as CUSP), but that TPL is not installed, the implementation should throw an exception or return an error code, not just print some error message to stderr.  I see a similar approach to error handling when the memory space is wrong (e.g., lines 67-80 of KokkosKernels_SPGEMM_mkl_impl.hpp).\r\n\r\n", "@kddevin @trilinos/zoltan2\r\nThe proposed changes in this PR use the Xpetra CRS matrix getAllValues method to obtain pointers to row, columns and values. This removes the need to perform a deep copy of the values from the matrix and reduces the memory footprint of the adapter. In addition, the column id's and offsets are obtained directly from this call; reducing some computation (but see below). Tests run locally with clang pass.\r\n\r\nThere are a couple of considerations that could further reduce the footprint beyond what is done here:\r\n\r\n1) Offsets can be obtained directly from the row pointer; however the offset in the Zoltan2 adapter is type def'd to lno_t, rather than size_t (provided by the getAllValues method). We would need to refactor the adapter to use the different type in order to avoid a copy of the data in the row pointer.\r\n\r\n2) Local column id's are provided by getAllValues; the adapter utilizes global column ids'. Again, we would need to refactor the adapter to use the pointer provided by the Xpetra Crs matrix.", "@trilinos/tpetra @trilinos/muelu \r\n\r\nThread-parallelize Tpetra::RowMatrixTransposer.  This matters because of the P^T * (AP) kernel in MueLu setup.  The transpose should normally still cost less than the sparse matrix-matrix multiply, but once we thread the latter, the transpose may become a bottleneck.  It's also not hard to thread parallelize.\r\n\r\nIn sparse matrix-matrix multiply, the input Tpetra::CrsMatrix to transpose is always fill complete.  Thus, we can use the KokkosSparse::CrsMatrix directly.  Here's how to get the number of entries in each row of the transpose (result):\r\n```\r\nusing Kokkos::Atomic;\r\nusing Kokkos::MemoryTraits;\r\nusing Kokkos::parallel_for;\r\nusing Kokkos::RangePolicy;\r\nKokkos::View<offset_type*, DT> counts (\"counts\", lclNumCols);\r\nKokkos::View<offset_type*, DT, MemoryTraits<Atomic> > countsAtomic = counts;\r\nparallel_for (RangePolicy<typename DT::execution_space, LO> (0, lclNumRows),\r\n  KOKKOS_LAMBDA (const LO& lclRow) {\r\n    for (offset_type k = ptr(lclRow); k < ptr(lclRow+1); ++k) {\r\n      ++countsAtomic(ind(k));\r\n    }\r\n  });\r\n```\r\n\r\n", "See #660 for a use case.  Tpetra::Crs{Graph,Matrix}::fillComplete currently needs segmented sort-and-merge, though a fix for #119 would remove the \"-and-merge\" requirement.\r\n\r\nThrust doesn't have anything like this.  stable_sort_by_key() just does what Tpetra::sort2 currently does, namely apply the implicit permutation resulting from sorting keys, to a corresponding array of values.", "@trilinos/tpetra Thread-parallelize Tpetra::CrsGraph methods sortAllIndices and mergeAllIndices, and remove any implicit UVM assumptions that the methods may make.\r\n\r\nThis is a \"story\" because this may call for a thread-parallel segmented sort, or segmented sort-and-merge.", "@trilinos/tpetra Thread-parallelize Tpetra::Map::getRemoteIndexList and remove any UVM assumptions.", "@trilinos/tpetra Thread-parallelize Tpetra::CrsGraph::makeColMap and remove the unstated UVM assumption.\r\n\r\nWe can only thread-parallelize this if the graph is StaticProfile.  Current storage for DynamicProfile is host only and not thread safe (`Teuchos::ArrayRCP<Teuchos::Array< LO | GO > >`).\r\n\r\nThe case where `sortGhostsAssociatedWithEachProcessor_` is true is easier:\r\n  1. Estimate number of entries in column Map on calling process\r\n  2. Create Kokkos::UnorderedMap to store those entries\r\n  3. Use local version of domain Map to figure out what's local & what's remote; stash remotes in the UnorderedMap\r\n  4. Convert UnorderedMap into array, and sort (the current version uses `std::set`, which sorts on insert)\r\n  5. Continue with the rest of the method, more or less as it stands\r\n\r\nIf `sortGhostsAssociatedWithEachProcessor_` is false, we can use the result of Step 4 above to allocate an array (corresponding to `RemoteGIDUnorderedVector` in the current version of the code), then make a second pass in order to fill it.\r\n\r\nMaking _everything_ thread parallel in this method depends on a fix for #659.\r\n\r\nI marked this as \"results impacting,\" because if `sortGhostsAssociatedWithEachProcessor_` is true, the changes proposed above may change the order of remotes in the column Map.  This may, in turn, change the order of entries in some rows of the sparse matrix, which may change results (even in exact arithmetic) for some preconditioners / smoothers (e.g., Gauss-Seidel or SOR, implemented in Ifpack2::Relaxation).", "@trilinos/shylu I think we've seen something like this before.  Back then, it related to including math.h instead of cmath.  I didn't see any math.h includes in this file or its header, but there might be some included somewhere.\r\n```\r\n[ 90%] Building CXX object packages/shylu/core/src/CMakeFiles/shylu.dir/epetra/shylu_local_schur_operator.cpp.o\r\n.../Trilinos/packages/tpetra/kernels/src/Kokkos_ArithTraits.hpp(572): error: more than one instance of overloaded function \"isinf\" matches the argument list:\r\n            function \"isinf(float)\"\r\n            function \"std::isinf(float)\"\r\n            argument types are: (const float)\r\n```", "@trilinos/muelu \r\n\r\nMueLu's \"Challenge\" example (muelu/doc/Tutorial/src/Challenge.cpp) fails to link when CUDA is enabled, but Tpetra's \"Serial\" Node type is disabled.\r\n```\r\nundefined reference to `Tpetra::Map<int, int, Kokkos::Compat::KokkosDeviceWrapperNode<Kokkos::Serial, Kokkos::HostSpace> >::getNode() const'\r\n```\r\n(etc.)", "@trilinos/tpetra \r\n\r\nAdd a way for Tpetra to query environment variables.  This would be useful for making more debug options available at run time, so that users wouldn't have to recompile their release build of Trilinos in order to get some useful debug information.  It would also be useful for debugging issues like #423, which relate to downstream packages or applications making incorrect assumptions (e.g., that stride == local # rows, which is not true if padding is enabled).\r\n\r\nIt may make sense to cache results of looking up an environment variable, in order to avoid overhead of system calls.\r\n\r\nIt would make sense to design this as a singleton class.  This would make it easier to ensure thread safety by locking use of getenv().  POSIX getenv() does not promise thread safety:\r\n\r\nhttp://pubs.opengroup.org/onlinepubs/009695399/functions/getenv.html\r\n\r\nthough Linux's implementation of getenv() does promise thread safety:\r\n\r\nhttp://man7.org/linux/man-pages/man3/getenv.3.html", "Hi,\r\nHave anyone been able to build PyTrilinos on Windows?\r\nI'm able to build other packages such as Epetra, AztecOO... But I can't seem to find a way to build PyTrilinos. I've been struggling for some time. First I was facing a few path issues. CMAKE was finding my numpy path and passing it to the `ASSERT_DEFINED` and `INCLUDE_DIRECTORIES` macros, but the path was being passed with backslashes (something like C:\\Python27\\...). So I was getting a CMAKE error telling me that this variable had an invalid scape sequence, in this case, '\\P'. I changed those macros to functions and those erros vanished. But now I'm now stuck with those other CMAKE errors, and I have no idea how to get rid of them:\r\n```\r\nConfiguring individual enabled Trilinos packages ...\r\n\r\nProcessing enabled package: Teuchos (Libs)\r\nCMake Error at cmake/tribits/core/package_arch/TribitsPackageSetupCompilerFlags.cmake:135 (TRIBITS_SETUP_STRONG_COMPILE_WARNINGS):\r\n  TRIBITS_SETUP_STRONG_COMPILE_WARNINGS Function invoked with incorrect\r\n  arguments for function named: TRIBITS_SETUP_STRONG_COMPILE_WARNINGS\r\nCall Stack (most recent call first):\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:230 (TRIBITS_SETUP_COMPILER_FLAGS)\r\n  packages/teuchos/CMakeLists.txt:19 (TRIBITS_PACKAGE_DECL)\r\n\r\n\r\nCMake Error at cmake/tribits/core/utils/AssertDefined.cmake:79 (MESSAGE):\r\n  Error, the variable PARSE_CLEANED is not defined!\r\nCall Stack (most recent call first):\r\n  cmake/tribits/core/package_arch/TribitsPackageSetupCompilerFlags.cmake:140 (ASSERT_DEFINED)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:230 (TRIBITS_SETUP_COMPILER_FLAGS)\r\n  packages/teuchos/CMakeLists.txt:19 (TRIBITS_PACKAGE_DECL)\r\n\r\n\r\nCMake Error at cmake/tribits/core/utils/AssertDefined.cmake:79 (MESSAGE):\r\n  Error, the variable TeuchosCore_ENABLE_Boost is not defined!\r\nCall Stack (most recent call first):\r\n  packages/teuchos/CMakeLists.txt:72 (ASSERT_DEFINED)\r\n\r\n\r\nC++ compiler does NOT support __attribute__((constructor)) syntax\r\nC++ compiler does NOT support __attribute__((weak)) syntax and testing weak functions\r\nC++ compiler does NOT support #pragma weak syntax and testing weak functions\r\nProcessing enabled package: Epetra (Libs)\r\nCMake Error at cmake/tribits/core/package_arch/TribitsPackageSetupCompilerFlags.cmake:135 (TRIBITS_SETUP_STRONG_COMPILE_WARNINGS):\r\n  TRIBITS_SETUP_STRONG_COMPILE_WARNINGS Function invoked with incorrect\r\n  arguments for function named: TRIBITS_SETUP_STRONG_COMPILE_WARNINGS\r\nCall Stack (most recent call first):\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:230 (TRIBITS_SETUP_COMPILER_FLAGS)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:320 (TRIBITS_PACKAGE_DECL)\r\n  packages/epetra/CMakeLists.txt:3 (TRIBITS_PACKAGE)\r\n\r\n\r\nCMake Error at cmake/tribits/core/utils/AssertDefined.cmake:79 (MESSAGE):\r\n  Error, the variable PARSE_CLEANED is not defined!\r\nCall Stack (most recent call first):\r\n  cmake/tribits/core/package_arch/TribitsPackageSetupCompilerFlags.cmake:140 (ASSERT_DEFINED)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:230 (TRIBITS_SETUP_COMPILER_FLAGS)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:320 (TRIBITS_PACKAGE_DECL)\r\n  packages/epetra/CMakeLists.txt:3 (TRIBITS_PACKAGE)\r\n\r\n\r\nYou have called ADD_LIBRARY for library epetra without any source files. This typically indicates a problem with your CMakeLists.txt file\r\nProcessing enabled package: Triutils (Libs)\r\nCMake Error at cmake/tribits/core/package_arch/TribitsPackageSetupCompilerFlags.cmake:135 (TRIBITS_SETUP_STRONG_COMPILE_WARNINGS):\r\n  TRIBITS_SETUP_STRONG_COMPILE_WARNINGS Function invoked with incorrect\r\n  arguments for function named: TRIBITS_SETUP_STRONG_COMPILE_WARNINGS\r\nCall Stack (most recent call first):\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:230 (TRIBITS_SETUP_COMPILER_FLAGS)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:320 (TRIBITS_PACKAGE_DECL)\r\n  packages/triutils/CMakeLists.txt:3 (TRIBITS_PACKAGE)\r\n\r\n\r\nCMake Error at cmake/tribits/core/utils/AssertDefined.cmake:79 (MESSAGE):\r\n  Error, the variable PARSE_CLEANED is not defined!\r\nCall Stack (most recent call first):\r\n  cmake/tribits/core/package_arch/TribitsPackageSetupCompilerFlags.cmake:140 (ASSERT_DEFINED)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:230 (TRIBITS_SETUP_COMPILER_FLAGS)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:320 (TRIBITS_PACKAGE_DECL)\r\n  packages/triutils/CMakeLists.txt:3 (TRIBITS_PACKAGE)\r\n\r\n\r\nYou have called ADD_LIBRARY for library triutils without any source files. This typically indicates a problem with your CMakeLists.txt file\r\nProcessing enabled package: EpetraExt (Libs)\r\nCMake Error at cmake/tribits/core/package_arch/TribitsPackageSetupCompilerFlags.cmake:135 (TRIBITS_SETUP_STRONG_COMPILE_WARNINGS):\r\n  TRIBITS_SETUP_STRONG_COMPILE_WARNINGS Function invoked with incorrect\r\n  arguments for function named: TRIBITS_SETUP_STRONG_COMPILE_WARNINGS\r\nCall Stack (most recent call first):\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:230 (TRIBITS_SETUP_COMPILER_FLAGS)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:320 (TRIBITS_PACKAGE_DECL)\r\n  packages/epetraext/CMakeLists.txt:7 (TRIBITS_PACKAGE)\r\n\r\n\r\nCMake Error at cmake/tribits/core/utils/AssertDefined.cmake:79 (MESSAGE):\r\n  Error, the variable PARSE_CLEANED is not defined!\r\nCall Stack (most recent call first):\r\n  cmake/tribits/core/package_arch/TribitsPackageSetupCompilerFlags.cmake:140 (ASSERT_DEFINED)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:230 (TRIBITS_SETUP_COMPILER_FLAGS)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:320 (TRIBITS_PACKAGE_DECL)\r\n  packages/epetraext/CMakeLists.txt:7 (TRIBITS_PACKAGE)\r\n\r\n\r\nYou have called ADD_LIBRARY for library epetraext without any source files. This typically indicates a problem with your CMakeLists.txt file\r\nProcessing enabled package: AztecOO (Libs)\r\nCMake Error at cmake/tribits/core/package_arch/TribitsPackageSetupCompilerFlags.cmake:135 (TRIBITS_SETUP_STRONG_COMPILE_WARNINGS):\r\n  TRIBITS_SETUP_STRONG_COMPILE_WARNINGS Function invoked with incorrect\r\n  arguments for function named: TRIBITS_SETUP_STRONG_COMPILE_WARNINGS\r\nCall Stack (most recent call first):\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:230 (TRIBITS_SETUP_COMPILER_FLAGS)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:320 (TRIBITS_PACKAGE_DECL)\r\n  packages/aztecoo/CMakeLists.txt:14 (TRIBITS_PACKAGE)\r\n\r\n\r\nCMake Error at cmake/tribits/core/utils/AssertDefined.cmake:79 (MESSAGE):\r\n  Error, the variable PARSE_CLEANED is not defined!\r\nCall Stack (most recent call first):\r\n  cmake/tribits/core/package_arch/TribitsPackageSetupCompilerFlags.cmake:140 (ASSERT_DEFINED)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:230 (TRIBITS_SETUP_COMPILER_FLAGS)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:320 (TRIBITS_PACKAGE_DECL)\r\n  packages/aztecoo/CMakeLists.txt:14 (TRIBITS_PACKAGE)\r\n\r\n\r\nYou have called ADD_LIBRARY for library aztecoo without any source files. This typically indicates a problem with your CMakeLists.txt file\r\nProcessing enabled package: Ifpack (Libs)\r\nCMake Error at cmake/tribits/core/package_arch/TribitsPackageSetupCompilerFlags.cmake:135 (TRIBITS_SETUP_STRONG_COMPILE_WARNINGS):\r\n  TRIBITS_SETUP_STRONG_COMPILE_WARNINGS Function invoked with incorrect\r\n  arguments for function named: TRIBITS_SETUP_STRONG_COMPILE_WARNINGS\r\nCall Stack (most recent call first):\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:230 (TRIBITS_SETUP_COMPILER_FLAGS)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:320 (TRIBITS_PACKAGE_DECL)\r\n  packages/ifpack/CMakeLists.txt:7 (TRIBITS_PACKAGE)\r\n\r\n\r\nCMake Error at cmake/tribits/core/utils/AssertDefined.cmake:79 (MESSAGE):\r\n  Error, the variable PARSE_CLEANED is not defined!\r\nCall Stack (most recent call first):\r\n  cmake/tribits/core/package_arch/TribitsPackageSetupCompilerFlags.cmake:140 (ASSERT_DEFINED)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:230 (TRIBITS_SETUP_COMPILER_FLAGS)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:320 (TRIBITS_PACKAGE_DECL)\r\n  packages/ifpack/CMakeLists.txt:7 (TRIBITS_PACKAGE)\r\n\r\n\r\nYou have called ADD_LIBRARY for library ifpack without any source files. This typically indicates a problem with your CMakeLists.txt file\r\nProcessing enabled package: PyTrilinos (Libs)\r\nCMake Error at cmake/tribits/core/package_arch/TribitsPackageSetupCompilerFlags.cmake:135 (TRIBITS_SETUP_STRONG_COMPILE_WARNINGS):\r\n  TRIBITS_SETUP_STRONG_COMPILE_WARNINGS Function invoked with incorrect\r\n  arguments for function named: TRIBITS_SETUP_STRONG_COMPILE_WARNINGS\r\nCall Stack (most recent call first):\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:230 (TRIBITS_SETUP_COMPILER_FLAGS)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:320 (TRIBITS_PACKAGE_DECL)\r\n  packages/PyTrilinos/CMakeLists.txt:48 (TRIBITS_PACKAGE)\r\n\r\n\r\nCMake Error at cmake/tribits/core/utils/AssertDefined.cmake:79 (MESSAGE):\r\n  Error, the variable PARSE_CLEANED is not defined!\r\nCall Stack (most recent call first):\r\n  cmake/tribits/core/package_arch/TribitsPackageSetupCompilerFlags.cmake:140 (ASSERT_DEFINED)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:230 (TRIBITS_SETUP_COMPILER_FLAGS)\r\n  cmake/tribits/core/package_arch/TribitsPackageMacros.cmake:320 (TRIBITS_PACKAGE_DECL)\r\n  packages/PyTrilinos/CMakeLists.txt:48 (TRIBITS_PACKAGE)\r\n```\r\n\r\n Those errors appear only when I activate the PyTrilinos package.\r\n\r\nI've followed [this tutorial](https://github.com/INMOST-DEV/INMOST/wiki/0207-Compilation-Trilinos-Windows) and adapted it to my needs using VS2013, and also installed [SWIGWIN](http://prdownloads.sourceforge.net/swig/swigwin-3.0.10.zip).\r\n", "@MicheldeMessieres @krcb @trilinos/teuchos \r\n\r\nTeuchos lacks a validator for boolean values.  It would be nice to have a validator that allows a user to set boolean values either as booleans or as strings, just as AnyNumberParameterEntryValidator does for numbers.  E.g.,\r\n  pl.set(\"boolOne\", true);\r\n  pl.set(\"boolTwo\", \"true\");\r\n\r\nThen getValue would return a bool.\r\n[paramBOOL.cpp.txt](https://github.com/trilinos/Trilinos/files/490587/paramBOOL.cpp.txt)\r\n\r\nThe attached program demonstrates the functionality and can be the basis of a test program.\r\n", "### Steps to reproduce\r\nJust run the rake tasks below in a new rails 5 app (after having configured your database.yml)\r\n```\r\nrake db:create\r\nrake db:migrate\r\nrake db:test:prepare\r\n```\r\n\r\n### Expected behavior\r\nLog in to the test database and issue the following query:\r\n```\r\nselect * from ar_internal_metadata;\r\n```\r\nI would expect to see only a single environment metadata with value `test`, like this:\r\n```\r\nMariaDB [rails5_app_test]> select * from ar_internal_metadata;\r\n+-------------+-------------+---------------------+---------------------+\r\n| key         | value       | created_at          | updated_at          |\r\n+-------------+-------------+---------------------+---------------------+\r\n| environment | test        | 2016-10-07 18:02:38 | 2016-10-07 18:02:38 |\r\n+-------------+-------------+---------------------+---------------------+\r\n1 row in set (0.00 sec)\r\n```\r\n### Actual behavior\r\nI actually get the environment set to `development`\r\n```\r\nMariaDB [rails5_app_test]> select * from ar_internal_metadata;\r\n+-------------+-------------+---------------------+---------------------+\r\n| key         | value       | created_at          | updated_at          |\r\n+-------------+-------------+---------------------+---------------------+\r\n| environment | development | 2016-10-07 18:02:38 | 2016-10-07 18:02:38 |\r\n+-------------+-------------+---------------------+---------------------+\r\n1 row in set (0.00 sec)\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 5.0.0.1\r\n**Ruby version**: 2.3.1\r\n**Database**: MariaDB + mysql2 gem\r\n", "Attributes API for ActiveRecord is absolutely great, I was wondering what would it take to make something similiar available for ActiveModel, so I wrote minimal implementation to handle the most essential features. Is it something that you think should be available in ActiveModel? If yes, should it be initially a minimal implementation that would evolve into something more sophisticated (that would mimic parts like ActiveRecord::Attribute) or should it be like that from the start? \r\n\r\nLet me know if this feature makes sense, will add some docs and Changelog note if it's something desired.", "### Steps to reproduce\r\nPlace this line in your rails app in the application controller:\r\n```\r\nrescue_from Exception, java.lang.Throwable, :with => :internal_error\r\n```\r\n\r\n### Expected behavior\r\nIt eats the java class under JRuby\r\nIt actually handles the exception\r\n\r\n### Actual behavior\r\nAn exception will be thrown:\r\n```\r\nJava::JavaLang::Throwable is neither an Exception nor a String\r\n```\r\n### System configuration\r\n**Rails version**: 4.2.5\r\n\r\n**Ruby version**: JRuby 9.0.4\r\n\r\n*Monkey patch*\r\n```\r\n#monkey patch to handle java exceptions\r\nmodule ActiveSupport\r\n  module Rescuable\r\n    module ClassMethods\r\n      def rescue_from(*klasses, &block)\r\n        options = klasses.extract_options!\r\n\r\n        unless options.has_key?(:with)\r\n          if block_given?\r\n            options[:with] = block\r\n          else\r\n            raise ArgumentError, \"Need a handler. Supply an options hash that has a :with key as the last argument.\"\r\n          end\r\n        end\r\n\r\n        klasses.each do |klass|\r\n          key = if (klass.is_a?(Class) && ((klass <= Exception) || (klass <= java.lang.Throwable))) #monkey is here\r\n                  klass.name\r\n                elsif klass.is_a?(String)\r\n                  klass\r\n                else\r\n                  raise ArgumentError, \"#{klass} is neither an Exception nor a String\"\r\n                end\r\n\r\n          # put the new handler at the end because the list is read in reverse\r\n          self.rescue_handlers += [[key, options[:with]]]\r\n        end\r\n      end\r\n    end\r\n  end\r\nend\r\n```\r\n", "### Steps to reproduce\r\n\r\nComment out line 39 `after_commit { true }` to get all tests to pass:\r\n\r\n```ruby\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  gem \"rails\", github: \"rails/rails\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :users do |t|\r\n    t.timestamps\r\n  end\r\n\r\n  create_table :posts do |t|\r\n    t.references :user\r\n    t.string :title\r\n    t.timestamps\r\n  end\r\nend\r\n\r\nclass User < ActiveRecord::Base\r\n  has_many :posts\r\n  accepts_nested_attributes_for :posts\r\n\r\n  # Comment out to get tests to pass:\r\n  after_commit { true }\r\n  # Any of the following cause the same issue:\r\n  # after_rollback { true }\r\n  # before_commit { true }\r\n  # before_rollback { true }\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\n  belongs_to :user, :touch => true\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n\r\n  def setup\r\n    User.destroy_all\r\n    Post.destroy_all\r\n\r\n    # create a user that was updated an hour ago\r\n    user = User.create\r\n    user.update_columns :created_at => 1.hour.ago, :updated_at => 1.hour.ago\r\n  end\r\n\r\n  def test_creating_post_via_has_many_helper_touches_user\r\n    original_updated_at = User.first.updated_at\r\n    User.first.posts.create! :title => 'Post title'\r\n\r\n    refute_equal original_updated_at.to_i, User.first.updated_at.to_i\r\n  end\r\n\r\n  def test_creating_post_with_nested_attributes_touches_user\r\n    original_updated_at = User.first.updated_at\r\n    User.first.update! :posts_attributes => { '0' => { :title => 'Post title' } }\r\n\r\n    refute_equal original_updated_at.to_i, User.first.updated_at.to_i\r\n  end\r\n\r\nend\r\n```\r\n\r\n### Expected behavior\r\nCreating/updating/destroying a child that is set to touch the parent should do so via nested attributes whether or not the parent has a `before_commit`, `after_commit`, `before_rollback` or `after_rollback` hook set.\r\n\r\n### Actual behavior\r\nCreating a `before_commit`, `after_commit`, `before_rollback` or `after_rollback` hook causes nested attributes to NOT touch the parent, even though `:touch => true` is set.\r\n\r\n### System configuration\r\n**Rails version**:\r\n5.0.0.1\r\n\r\n**Ruby version**:\r\n2.3.1", "Removed redundant explicit float conversions which ruby by itself does internally with a float denominator while division.", "ActiveRecord::CounterCache should provide an option to update `updated_at` when any one of these methods are called.\r\n\r\n- [update_counters](https://github.com/rails/rails/blob/a9dc45459abcd9437085f4dd0aa3c9d0e64e062f/activerecord/lib/active_record/counter_cache.rb#L76)\r\n- [reset_counters](https://github.com/rails/rails/blob/a9dc45459abcd9437085f4dd0aa3c9d0e64e062f/activerecord/lib/active_record/counter_cache.rb#L20)\r\n- [decrement_counter](https://github.com/rails/rails/blob/a9dc45459abcd9437085f4dd0aa3c9d0e64e062f/activerecord/lib/active_record/counter_cache.rb#L120)\r\n- [increment_counter](https://github.com/rails/rails/blob/a9dc45459abcd9437085f4dd0aa3c9d0e64e062f/activerecord/lib/active_record/counter_cache.rb#L102)\r\n\r\nMy application implements a trash module, so I must call `decrement_counter` when sending a record to the trash, and `increment_counter` when restoring a record. I'm displaying a counter cache in a view, and I would like for the fragment cache to expire whenever I increment or decrement the counters by updating the `updated_at` value. However, I must make a second call to the database to update the `updated_at` value after incrementing or decrementing the counter cache.\r\n\r\nI think there should be an additional argument to send to these methods to change `updated_at` when changing the counter cache. For example:\r\n\r\n````ruby\r\nPost.decrement_counter(:comments_count, 1, true) # This would change the post's updated_at value\r\nPost.decrement_counter(:comments_count, 1, false) # This would NOT change the post's updated_at value\r\nPost.decrement_counter(:comments_count, 1) # This would NOT change the post's updated_at value\r\n````\r\n\r\n### Expected behavior\r\nActiveRecord::CounterCache should be able to change a record's `updated_at` value.\r\n\r\n### Actual behavior\r\nActiveRecord::CounterCache does not have the ability to change a record's `updated_at` value.\r\n\r\n### System configuration\r\n**Rails version**: 4.2.5.1\r\n\r\n**Ruby version**: 2.2.3\r\n", "1. Reduced comparison as unless is replaced with if statement, which itself is one comparison optimized\r\n2. unless statement was looking ambiguous to understand with ternary operator, for which is to be calculated first.", "### Steps to reproduce\r\nCreate, attempt to use, or schema-dump a PostgreSQL table with a space in the name, e.g. `create_table 'work orders'`.\r\n\r\n### Expected behavior\r\nIt should treat the entire string as the table name.\r\n\r\n### Actual behavior\r\nIt uses the first word or segment before the space as the schema, and the rest as the table name.\r\n\r\nThis is a bug in the regex used for parsing the schema/table name. You can work around it by using quotes (`\"work orders\"`), which is reasonable and necessary when you specify a schema ('\"my_schema\".\"work orders\"). It is not necessary for the mysql or sqlite adapters, though, and causes friction when you don't use schemas.\r\n\r\n### System configuration\r\n**Rails version**: tested with 4.2.7 and master, probably introduced [here](https://github.com/rails/rails/commit/5c7f8c929b228063b224eaa17360dcc105788296)\r\n\r\n**Ruby version**: 2.3.1\r\n", "@rafael @sgrif \r\ncc @jonathankwok \r\n\r\n## Summary\r\n\r\nWhen generating a rails app, if you specify to skip a particular framework, it lists out all eight and comments out the ones which are skipped. If you generate an app which doesn't skip anything, it requires `rails/all` which is a shortcut to require all eight.\r\n\r\nProblem is, if you generate a full app then decide later that you can remove/skip some frameworks, you have to dig into [this file](https://github.com/rails/rails/blob/master/railties/lib/rails/all.rb) and copy in the lines to comment out.\r\n\r\nWe have encountered this a number of times. Where requirements change after the app is generated. Listing these frameworks explicitly, as comments, makes it more explicit how to pull out framework pieces later.", "### Summary\r\n\r\n9c9fb19 changed the behaviour of the _ids= setters for associations to\r\nraise an AssociationTypeMismatch when unknown IDs are given:\r\n\r\n    Class: <ActiveRecord::AssociationTypeMismatch>\r\n    Message: <\"Developer(#43811860) expected, got NilClass(#16732720)\">\r\n\r\nThis restores the original ActiveRecord::RecordNotFound exception with a\r\nmuch clearer error message:\r\n\r\n    Class: <ActiveRecord::RecordNotFound>\r\n    Message: <\"Couldn't find all Developers with 'id': (1, -9999) [WHERE \\\"contracts\\\".\\\"company_id\\\" = ?] (found 1 results, but was looking for 2)\">\r\n\r\nFixes #25719, restores the 4-2-stable behaviour.\r\n\r\n### Other Information\r\n\r\n9c9fb19 shipped in Rails 5.0.0 and higher, introduced in #20997 to fix #20995.", "### Summary\r\n\r\nCurrently update_all method does not support the left outer join. I think that the left outer join may be supported as join.", "### Summary\r\n\r\n`Model.attribute_names` is cached and relies on Model.columns. The cache is not busted properly in 4.2 (see https://github.com/rails/rails/pull/26705) and was fixed in master, but there still is no test coverage.\r\n", "### Summary\r\n\r\nThis PR re-publicizes `Associations#clear_association_cache` and `Aggregations#clear_aggregation_cache`, which were privatized in https://github.com/rails/rails/pull/16989\r\n\r\nFrom that PR:\r\n\r\n> It also means that the currently undocumented clear_association_cache and clear_aggregation_cache methods are not used outside their modules and could be made private. I've done this but am ambivalent about that part, so let me know what you think.\r\n\r\nWhile the preceding PR has good changes (responsibilities moved to their respective modules, limited access to the caches themselves) the privatization of the cache clearing methods serves no purpose. Clearing AR caches is a very useful thing and it seems very innocuous to have a method in the concerning module to clear out the very simple cache implemented within them.\r\n\r\n### Other Information\r\n\r\n* https://github.com/ManageIQ/manageiq/issues/6723\r\n* https://github.com/ManageIQ/manageiq/pull/8668\r\n* This partially reverts 17e0878, just bringing back the applicable tests. I did not add the API documentation mentioning this method back as it's not incredibly useful.\r\n\r\nr? @rafaelfranca or @matthewd\r\n", "### Summary\r\n\r\n`Model.attribute_names` is cached and relies on `Model.columns`, but does not currently have its cache busted when `Model.reset_column_information` is called.\r\n", "i m using rails version - 5.0.0.1\r\n\r\ni used form_for to create form \r\n<%= form_for :session,:action => '/login/authenicate/',:remote => true, :authenticity_token => true, :html => { :class => 'validate', :id => 'form_login' } do |s| %>\r\n\r\nand i am using ajax to send the request to the serve\r\n\r\nthis is the form that is display in the browser \r\n\r\n`<form class=\"validate\" id=\"form_login\" action=\"/login\" accept-charset=\"UTF-8\" data-remote=\"true\" method=\"post\" novalidate=\"novalidate\"><input name=\"utf8\" type=\"hidden\" value=\"\u2713\"><input type=\"hidden\" name=\"authenticity_token\" value=\"i3GVfaN2PbZ80JvdSqO921GuNLaxxo9ctsTBE21aYJYo/XtBG7lyqU7xAzoFjClwOGWSCrC+6mf3no39ua+rDQ==\">\r\n\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t<div class=\"input-group\">\r\n\t\t\t\t\t\t<div class=\"input-group-addon\">\r\n\t\t\t\t\t\t\t<i class=\"fa fa-user\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input class=\"form-control\" id=\"username\" placeholder=\"Email Id / Mobile No\" type=\"text\" name=\"session[username]\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t<div class=\"input-group\">\r\n\t\t\t\t\t\t<div class=\"input-group-addon\">\r\n\t\t\t\t\t\t\t<i class=\"fa fa-lock\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input class=\"form-control\" id=\"password\" placeholder=\"Passowrd\" type=\"password\" name=\"session[password]\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t<button name=\"authenicatebtn\" type=\"submit\" class=\"btn btn-primary btn-block btn-login\">Login</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n</form>`\r\n\r\nit is a ajax request to the server when i view in the networks tab its showing ActionController::InvalidAuthenticityToken  error", "I'm really excited to open this initial PR for bringing system/acceptance test support to Rails through Capybara.\r\n\r\nThe goal of this PR is for Rails to take on all the setup that is needed in applications to allow Capybara and make system testing default in Rails applications.\r\n\r\n**Why is the name Rails::SystemTestCase?**\r\nI chose this name because this was the name DHH indicated he preferred in the Rails' Basecamp long ago. I'm totally open to changing the name but ultimately decided to put it in ActionPack with the Rails namespace so I could get onto writing code and stop worrying about the name :wink:\r\n\r\n**How do I add System tests to my application?**\r\nBy default new applications include a base system test much like integration tests. Gemfiles generated for new applications will include Capybara and the Selenium driver.\r\n\r\nCapybara's selenium driver requires some setup by the programmer, so I've added a layer between Capybara and Rails so that Rails' takes on that work called `RailsSeleniumDriver`. The default settings are as follows:\r\n* The server is puma (because this is Rails' default)\r\n* the browser is chrome (because FF is broken w/ Capybara and Selenium right now),\r\n* the default port is 28100, and\r\n* the default screen size is [1400, 1400].\r\n\r\nThe reason I have chosen Chrome as the default browser is because Firefox doesn't work out of the box. Selenium and the current version of Firefox don't play nicely together so I've set up the driver to default to Chrome, but it can easily be switched to using Firefox. I'd also like to provide support for Safari.\r\n\r\nInstead of requiring the programmer to set up the port, browser, server, etc Rails handles that setup and frees up the programmer to work on writing their tests.\r\n\r\nThe Rails drivers allow the default configuration to be changed by initializing a new driver:\r\n\r\n```ruby\r\n# config/environments/test.rb\r\nconfig.system_testing.driver = SystemTesting::DriverAdapters::RailsSeleniumDriver.new(\r\n  browser: :firefox\r\n)\r\n```\r\n\r\n**What if I don't want to use Selenium?**\r\nIf the programmer wants to use one of Capybara's default drivers rather than the provided defaults in Rails Selenium configuration they can easily change that in the test environment. I've provided a shim in Rails so setting the Capybara driver is simple. I've named the class `CapybaraDriver` and it gives access to the 4 Capybara drivers: `poltergeist`, `webrick`, `selenium` (with no setup), and `rack_test`:\r\n\r\n```ruby\r\n# config/environments/test.rb\r\nconfig.system_testing.driver = :poltergeist\r\n```\r\n\r\nEach of the Capybara default drivers that requires a server defaults to Puma. Any of the settings can be changed by initializing a new `CapbyaraDriver` object:\r\n\r\n```ruby\r\n# config/environments/test.rb\r\nconfig.system_testing.driver = SystemTesting::DriverAdapters::CapybaraDriver.new(\r\n  name: :poltergeist,\r\n  server: :webrick\r\n)\r\n```\r\n\r\n**What if I'm making a new application and don't want system testing at all?**\r\nIt's easy to skip system testing files in the app generator or the scaffold generator by running with the `--skip-system-test` flag.\r\n\r\n**What if I already use Capybara and don't want to use Rails?**\r\nBecause Rails provides a specific test case name to inherit from you can easily just completely skip the Rails version of system testing and use Capybara directly.\r\n\r\n**I want to try it out!**\r\nI made a test app where you can try out system tests in Rails w/ Selenium! https://github.com/eileencodes/system_testing_app\r\n\r\n---\r\n**Cool! What's next?**\r\n\r\nBelow is a list of what is done and what's left to do. Once we sort out naming and other issues I'll finish up the items below. \r\n\r\n**What's done?**\r\n- [x] Generators: Scaffold, individual, and application\r\n- [x] Basic Documentation\r\n- [x] Testing adapter settings (this just tests that Rails provides options included, not that Capybara and friends work. The assumption is that actual behavior of Capybara and friends is tested by themselves, Rails tests it's framework for initializing Capybara)\r\n- [x] Configurable driver adapters w/ `RailsSeleniumDriver` being the default.\r\n- [x] Railtie for configuring system test settings\r\n- [x] Support for screenshots\r\n\r\n**What's in progress?**\r\n- [ ]  Transactions aren't handled in Capybara the same as they are in Rails' other test so we need to handle that. Capybara suggests using the DatabaseCleaner gem but we only need a small portion of that code. I'm working on porting that over.\r\n- [ ] Fix the railties tests \ud83d\ude01 \r\n\r\n**What's left to do?**\r\n- [ ] Rails Guides\r\n- [ ] Other custom but generic helpers we support at Basecamp that we'd like to port over, especially ActiveJob and ActionCable support\r\n- [ ] Testing the custom helpers and assertions\r\n- [ ] Support for Safari\r\n- [ ] Changelog (to be done nearer to merge so I don't need to deal with rebase conflicts :wink:)\r\n\r\ncc/ @dhh @georgeclaghorn", "See [this conversation](https://github.com/rails/rails/commit/5dced4ee9be8cecdc43eb0c14f24a58d742762de#commitcomment-19274418) for more context.", "Follow up to https://github.com/rails/rails/pull/19425\r\n\r\nAlso documents possible arguments passed to test methods.", "### Summary\r\n\r\nI've been trying to the new `ActiveModel::Type` API without rails. However, I've noticed that a large number of the types in ActiveModel have no meaning in Ruby as they represent SQL data types. For example, Ruby has no concept of a `Text` type (`String` yes, `Text` no). A more subtle example is the `Decimal` type, which is called `BigDecimal` in Ruby. Or `UnsignedInteger`. Or `Binary`.\r\n\r\nTo reduce confusion I've moved types from the `ActiveModel::Type` module to the `ActiveRecord::Type` module whenever there is no obvious class in Ruby to represent that type, and updated the two type registries accordingly.\r\n\r\nI admit that there's no immediate benefit to this refactoring, but hopefully it will make the dividing line clearer between `ActiveRecord::Type`'s and `ActiveModel::Type`'s, and make it easier to use the `ActiveModel::Type` API without rails.", "After not getting any satisfying answer after multiple bounties on StackOverflow: http://stackoverflow.com/questions/39359361/rails-ignores-association-scope-when-pre-caching-with-includes\r\nI've concluded it's a bug with Rails. The linked Question links an example app with a detailed README explaining the issue: https://github.com/skensell/SO-question-example\r\n\r\nI'm using Rails 4.1.4 and Ruby 2.1.10.", "### Summary\r\n\r\nThe `ActiveJob::TestHelper` replace the adapter to test adapter in `before_setup`.\r\nIt gets the target class using the `descendants`, but if the test target job\r\nclass is not loaded, will not be a replacement of the adapter.\r\nTo avoid this, modified to load the test target class.\r\n\r\nFixes #26360", "Passing `name` to `tables` is already deprecated at #21601.\r\nPassing `name` to `indexes` is also unused.", "Currently all adapters (postgresql, mysql2, sqlite3, oracle-enhanced,\r\nand sqlserver) implemented `indexes` and schema dumper expects\r\nimplemented `indexes`.\r\n\r\nhttps://github.com/rails/rails/blob/v5.0.0/activerecord/lib/active_record/schema_dumper.rb#L208\r\n\r\nTherefore `respond_to?(:indexes)` checking is unnecessary.", "Currently does not work the following code.\r\n\r\n```ruby\r\n  add_index(:people, [\"last_name\", \"first_name\"], order: { last_name: :desc, first_name: :asc })\r\n```\r\n\r\nNormalize column names and options to fix the issue.", "### Summary\r\n\r\nThis PR has do idea to fix the Issue: https://github.com/rails/rails/issues/25503\r\n\r\n### Other Information\r\n\r\nI need some ideas about how to check if an association has changed.", "### Summary\r\n\r\n`submit_tag` is to override the value that is specified in the option, disable_with_text are not.\r\n\r\n```erb\r\n<%= form_for User.new do |f| %>\r\n  <!-- <input type=\"submit\" name=\"commit\" value=\"Like!\" data-disable-with=\"Like!\"> -->\r\n  <%= f.submit 'Like!' %>\r\n\r\n  <!-- <input type=\"submit\" name=\"commit\" value=\"Like!\" data-disable-with=\"Create User\"> -->\r\n  <%= f.submit nil, { value: 'Like!' } %>\r\n<% end %>\r\n```", "### Steps to reproduce\r\n\r\nGo to [api.rubyonrails.org](http://api.rubyonrails.org/)\r\nClick on \"API documentation\" link\r\n\r\nthis will open up same page inside the frameset as a new frame.\r\n\r\nAgain click on the \"API documentation\" link\r\n\r\nthis will open up same page as a frame in the inner frameset\r\n\r\n### Expected behavior\r\nshould do nothing when clicked on \"API documentation\" link\r\nor should reload the page\r\n\r\n### Actual behavior\r\nOpens the page inside a frameset over and over as and when clicked on the link, in a nested fashion\r\n\r\n", "ActiveRecord::QueryCache using the new Rails executor may result in dirty query caches across threads. Releasing a connection early in one thread may return it to the pool with cache still enabled and dirty, and the executor loses track of the connection so may clear another, and another thread may pick up the dirty cache and never turn it off.\r\n\r\n### Steps to reproduce\r\n\r\nIn practise this has occurred to us in a high-concurrency production environment across threads. We can reliably reproduce it with explicitly scheduled threads:\r\n\r\n```ruby\r\nclass Example < ActiveRecord::Base\r\n  connection.execute <<~SQL\r\n    CREATE TABLE examples (id int primary key);\r\n  SQL\r\nend\r\n\r\nExample.create!(id: 1)\r\n\r\nActiveRecord::Base.connection_pool.connections.none?(&:query_cache_enabled)\r\n# => true\r\n\r\nthread_1_connection = nil\r\nthread_1 = Thread.new do\r\n  Rails.application.executor.wrap do\r\n    thread_1_connection = ActiveRecord::Base.connection\r\n    task = Example.find(1)\r\n    thread_1_connection.query_cache.empty?\r\n    # => false\r\n    ActiveRecord::Base.clear_active_connections!\r\n    # Sleep so thread 2 can pick up this connection\r\n    sleep\r\n    # The executor will grab a different connection and clear its query cache when returning from this block\r\n  end\r\nend\r\n\r\nthread_2_connection = nil\r\nthread_2 = Thread.new do\r\n  # The executor grabs thread 1's released connection, and stores that the connection has query cache turned on by default\r\n  Rails.application.executor.wrap do\r\n    thread_2_connection =  ActiveRecord::Base.connection\r\n    thread_2_connection == thread_1_connection\r\n    # => true\r\n    thread_2_connection.query_cache.empty?\r\n    # => false\r\n    sleep\r\n    # The executor does clear the cache but doesn't change query_cache_enabled when returning here\r\n  end\r\nend\r\n\r\nthread_1.wakeup\r\nthread_1.join\r\nthread_1_connection.query_cache_enabled\r\n# => true\r\n\r\nthread_2.wakeup\r\nthread_2.join\r\nActiveRecord::Base.connection_pool.connections.none?(&:query_cache_enabled)\r\n# => false\r\n\r\nActiveRecord::Base.connection.execute \"DROP TABLE examples\"\r\n```\r\n\r\n### Expected behaviour\r\n\r\nActiveRecord connections returned to the connection pool should have their query caches cleared and turned off (or back to the default).\r\n\r\n### Actual behaviour\r\n\r\nThreads may receive connections with dirty query caches and some connections may end up with query caching permanently enabled.\r\n\r\n### System configuration\r\n\r\n**Rails version**: 5.0.0.1 (master is the same)\r\n**Ruby version**: 2.3.1\r\n\r\n### First solution attempt\r\n\r\nStore the connection in the executor state:\r\n\r\n```ruby\r\nmodule ActiveRecord\r\n  class QueryCache\r\n    # ...\r\n    def self.run\r\n      connection    = ActiveRecord::Base.connection\r\n      enabled       = connection.query_cache_enabled\r\n      connection.enable_query_cache!\r\n\r\n      [connection, enabled]\r\n    end\r\n\r\n    def self.complete((connection, enabled))\r\n      connection.clear_query_cache\r\n      connection.disable_query_cache! unless enabled\r\n    end\r\n    # ...\r\n  end\r\nend\r\n```\r\n\r\nThere is still an edge case here: if the connection is returned to the pool early there is still a window where another thread may checkout the connection and see its dirty cache, and potentially store the cache is on by default, again landing us in a connection with query cache stuck enabled.\r\n\r\nIf an executor is responsible for checking out the AR connection then it's probably reasonable to assume it's also responsible for checking it back in. In practise, however, it's fairly easy to [accidentally break this assumption](https://github.com/mperham/sidekiq/pull/3166).\r\n\r\n### A Better Solution?\r\n\r\nPerhaps instead query caching should be enabled/cleared by the connection pool when checking connections in/out? It would prevent touching connections until they are needed. It would allow query caching in more complex deployments using multiple connection specifications. It would also be nice to be able to configure whether query caching is used at all at a connection specification level.\r\n\r\n/cc @matthewd", "### Steps to reproduce\r\nMinimal projects to reproduces the behaviour: \r\nRails 4.1.14 + sqlite https://github.com/cars10/empty-enum-validates-associated\r\nRails 4.1.14 + mysql https://github.com/cars10/empty-enum-validates-associated-rails-4-1-14-mysql\r\nRails 5.0.0.1 + mysql https://github.com/cars10/empty-enum-validates-associated-rails-5-0-1-mysql\r\n\r\nGiven the following models\r\n\r\n```ruby\r\n# column foo_status has a default_value of 0\r\nclass Foo < ActiveRecord::Base\r\n    has_one :bar, class_name: Bar, as: :target, dependent: :destroy\r\n    enum foo_status: {'asd' => 0, '' => 1}\r\n    after_create :create_bar\r\nend\r\n\r\nclass Bar < ActiveRecord::Base\r\n    belongs_to :target, polymorphic: true\r\n    validates_associated :target\r\nend\r\n```\r\n\r\nNow create a new foo:\r\n\r\n```ruby\r\nFoo.create\r\n```\r\n\r\nCauses the following queries:\r\n```ruby\r\nSQL (0.8ms)  INSERT INTO `foos` (`created_at`, `updated_at`) VALUES ('2016-09-30 08:44:43', '2016-09-30 08:44:43')\r\nFoos Load (0.3ms)  SELECT  `foos`.* FROM `foos`  WHERE `foos`.`id` = 1 LIMIT 1\r\nSQL (0.2ms)  UPDATE `foos` SET `foo_status` = 1, `updated_at` = '2016-09-30 08:44:44' WHERE `scorm_v12_cmi_cores`.`id` = 1\r\nSQL (0.8ms)  INSERT INTO `bars` (`created_at`, `target_id`, `target_type`, `updated_at`) VALUES ('2016-09-30 08:44:44', 51, 'Foo', '2016-09-30 08:44:44')\r\n```\r\n\r\nThe 3. query runs an update for Foo that changes the status of the column with the enum.\r\nRemoving `validates_associated` from foo \"fixes\" that.\r\n\r\nI am pretty sure that the empty string enum value causes this issue - as this generates methods simply called \"?\" and \"!\" (because of the generated methods for enums), similiar to the \"asd?\" and \"asd!\" methods that are generated.\r\n\r\n### Expected behavior\r\nNo random update\r\n\r\n### Actual behavior\r\nColumn gets updated\r\n\r\n### System configuration\r\n**Rails version**: 4.1.14. Reproduced exactly the same behaviour in rails 5.0.0.1\r\n\r\n**Ruby version**: 2.3.0\r\n", "### Summary\r\n\r\n`Thor` recognizes the public method as a command. Therefore, if use the help\r\nmethod that `Thor` is provided, it show command number of public methods.\r\nIf dealing with one of class as one of command, I think it is strange as usage.\r\nIn this case I think it is good to use `command_help`.\r\n\r\nBefore:\r\n\r\n```\r\n$ ./bin/rails c --help\r\nCommands:\r\n  bin/rails console [environment] [options]  # Describe available commands or one specific command\r\n  bin/rails console [environment] [options]  #\r\n\r\nOptions:\r\n  -s, [--sandbox], [--no-sandbox]  # Rollback database modifications on exit.\r\n  -e, [--environment=ENVIRONMENT]  # Specifies the environment to run this console under (test/development/production).\r\n\r\n```\r\n\r\nAfter:\r\n\r\n```\r\n./bin/rails c --help\r\nUsage:\r\n  bin/rails console [environment] [options]\r\n\r\nOptions:\r\n  -s, [--sandbox], [--no-sandbox]  # Rollback database modifications on exit.\r\n  -e, [--environment=ENVIRONMENT]  # Specifies the environment to run this console under (test/development/production).\r\n\r\n```\r\n\r\nr? @kaspth ", "", "It's imposible to change the mixins. For example - if I want to make the button to be lighter on hover (not darker) its imposible. Because https://github.com/twbs/bootstrap/blob/v4-dev/scss/mixins/_buttons.scss#L42 its hardcoded \"darken\"\r\nIf you separate the mixins and settings from main bootstrap.scss it should be possible to pass customized mixins. The sass will use the last defined mixin. So this will solve a problem.\r\n```\r\n@import 'bootstrap_settings';\r\n@import 'my_mixins/buttons';\r\n@import 'bootstrap';\r\n```\r\nFor more details of the problem please check: http://stackoverflow.com/a/12761579/175404", "When setting text and an image in the `.navbar-brand` component, the text gets pushed below the image - breaking the navbar - since the image is set to `display: block` in the Sass code. Cases where this would happen is when you want to display the brand name next to its minimal logo.\r\n\r\n**Recreate**: Add an image and text to the `navbar-brand` component of a navbar.\r\n**Expected behavior**: That the text be next to the image.\r\n**Current behavior**: The text gets pushed below the image\r\n\r\n[Example pen code](http://codepen.io/chesedo/pen/xEYXGV)\r\n", "Keeps height in chrome\r\n\r\n![screen shot 2016-10-06 at 19 33 14](https://cloud.githubusercontent.com/assets/901354/19163327/ce81a52c-8bfb-11e6-9703-cb0cb25d8e97.png)\r\n\r\n![screen shot 2016-10-06 at 19 33 36](https://cloud.githubusercontent.com/assets/901354/19163328/cea7642e-8bfb-11e6-9967-bb8d62c8d9cc.png)\r\n\r\n", "I believe this is in all browsers.\r\nI'm using 4.0.0-alpha.4 via cdn\r\n--------------\r\nWhen I use an image with the class \"card-img-top\" the image does not stay within the card.\r\nThis is because it doesn't have a defined width.\r\nThe\"card-img-top\" class needs to have a width of 100%.\r\n--------------\r\nExample of buggy code: https://jsfiddle.net/1v3dLj05/5/\r\nExample of fixed code:   https://jsfiddle.net/1v3dLj05/4/", "https://www.fxsitecompat.com/en-CA/docs/2016/touch-event-support-has-been-re-enabled-on-windows-desktop/", "Before opening an issue:\r\n\r\n- [Search for duplicate or closed issues](https://github.com/twbs/bootstrap/issues?utf8=%E2%9C%93&q=is%3Aissue)\r\n- [Validate](https://validator.w3.org/nu/) and [lint](https://github.com/twbs/bootlint#in-the-browser) any HTML to avoid common problems\r\n- Prepare a [reduced test case](https://css-tricks.com/reduced-test-cases/) for any bugs\r\n- Read the [contributing guidelines](https://github.com/twbs/bootstrap/blob/master/CONTRIBUTING.md)\r\n\r\nWhen asking general \"how to\" questions:\r\n\r\n- Please do not open an issue here\r\n- Instead, ask for help on [StackOverflow, IRC, or Slack](https://github.com/twbs/bootstrap/blob/master/README.md#community)\r\n\r\nWhen reporting a bug, include:\r\n\r\n- Operating system and version (Windows, Mac OS X, Android, iOS, Win10 Mobile)\r\n- Browser and version (Chrome, Firefox, Safari, IE, MS Edge, Opera 15+, Android Browser)\r\n- Reduced test cases and potential fixes using [JS Bin](https://jsbin.com)\r\n\r\nWhen suggesting a feature, include:\r\n\r\n- As much detail as possible for what we should add and why it's important to Bootstrap\r\n- Relevant links to prior art, screenshots, or live demos whenever possible\r\n", "Hello,\r\n\r\nIn boostrap 4 alpha 4 collapsed nav bars will overflow text after you expand then collapse them.\r\nIf you shrink this page until the nav fully collapses then expand and collapse the menu, when you increase the page width again the menu will overflow elements below.\r\n\r\n[Example here](https://jsfiddle.net/j0q6114t/)\r\n\r\nTested with Firefox 49 and chrome 53 on Linux, and IE 11 on windows 7", "[Getting Started > Flexbox](http://v4-alpha.getbootstrap.com/getting-started/flexbox/) notes that: \"Alternatively, if you don\u2019t need the source Sass files, you may swap the default Bootstrap compiled CSS with the compiled flexbox variation. Head to the download page for more information.\"\r\n\r\nCurrently, neither the [download page](http://v4-alpha.getbootstrap.com/getting-started/download/) or the Bootstrap CDN info on the front page link to the compiled flexbox variation.\r\n\r\nThis would be handy to have, assuming that the flexbox variation of the Bootstrap CSS is in as good shape as the non-flexbox variation.", "Often you want an image to fill the whole width of the containing element. `.img-fluid` can be used to fill the containing element and scale down, but there's no option for scaling up. If the containing element is bigger than the actual image size, even if it's only some pixels in some special viewports, the image won't fill the whole element. This is bad for the design, in most cases worse than upscaling an image for some pixels.\r\n\r\nFor this case, we created a class `.img-fill` which sets `display: block; width: 100%; height: auto;`. The frontend developer then can decide if he want's images to scale up and down by using .img-fill or if he only wants them to scale down by using .img-fluid. \r\n\r\nI propose this as an official feature of Bootstrap 4.", "I believe there is an issue with opening modals that causes fixed content to be shifted.\r\n\r\nHere's an example http://codepen.io/eddywashere/pen/ZpXrxQ\r\n\r\nI'm on OSX, 10.11.5, Chrome 53 and have `System Preferences > General > Show scroll bars: always`.\r\n\r\nI believe this is sort of tracked in the Modal section of v4 issue https://github.com/twbs/bootstrap/pull/17021, but does not contain an active issue to track it.\r\n\r\n> Finally fix that shifting content bug by updating the modal.js to not adjust body padding, but rather the padding on a specific set of classes.\r\n\r\nI found an issue that was closed because it was part of v3, https://github.com/twbs/bootstrap/issues/14040#issuecomment-244817197. ", "Fixes #20800.", "I thought I should share this, maybe we could make this into a JavaScript component that can be toggled.  It's a super helpful little JavaScript snippet and CSS that lets you have custom file input boxes with the \"Choose file...\" and \"Browse\" buttons, but when the user changes the file input (selects a file) it will show the file name.  It should be cross-browser compatible as well.  I used lodash for the `_`, but it could be refactored with whatever @cvrebert and @mdo would use here - I just did this pretty quickly.  Hope you don't mind the ES6 syntax.\r\n\r\n## Example Screenshots:\r\n\r\n> Before input is selected:\r\n\r\n![screencapture-localhost-3000-jobs-create-1475233192329](https://cloud.githubusercontent.com/assets/523141/18989802/e9d99a70-86db-11e6-9bf1-7bc616a1dfa0.png)\r\n\r\n> After input is selected:\r\n\r\n![screencapture-localhost-3000-jobs-create-1475233212895](https://cloud.githubusercontent.com/assets/523141/18989805/ee0904c8-86db-11e6-9107-a91b90359495.png)\r\n\r\n## Usage\r\n\r\n> JavaScript:\r\n\r\n```js\r\n    // handle custom file inputs\r\n    $('body').on('change', 'input[type=\"file\"][data-toggle=\"custom-file\"]', function (ev) {\r\n\r\n      const $input = $(this);\r\n      const target = $input.data('target');\r\n      const $target = $(target);\r\n\r\n      if (!$target.length)\r\n        return console.error('Invalid target for custom file', $input);\r\n\r\n      if (!$target.attr('data-content'))\r\n        return console.error('Invalid `data-content` for custom file target', $input);\r\n\r\n      // set original content so we can revert if user deselects file\r\n      if (!$target.attr('data-original-content'))\r\n        $target.attr('data-original-content', $target.attr('data-content'));\r\n\r\n      const input = $input.get(0);\r\n\r\n      let name = _.isObject(input)\r\n        && _.isObject(input.files)\r\n        && _.isObject(input.files[0])\r\n        && _.isString(input.files[0].name) ? input.files[0].name : $input.val();\r\n\r\n      if (_.isNull(name) || name === '')\r\n        name = $target.attr('data-original-content');\r\n\r\n      $target.attr('data-content', name);\r\n\r\n    });\r\n```\r\n\r\n> HTML:\r\n\r\n```html\r\n          <label class=\"custom-file d-block\">\r\n            <input data-toggle=\"custom-file\" data-target=\"#company-logo\" type=\"file\" name=\"company_logo\" accept=\"image/png\" class=\"custom-file-input\">\r\n            <span id=\"company-logo\" class=\"custom-file-control custom-file-name\" data-content=\"Upload company logo...\"></span>\r\n          </label>\r\n```\r\n\r\n> CSS:\r\n\r\n```scss\r\n// support custom file inputs\r\n.custom-file-name:after {\r\n  content: attr(data-content) !important;\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  display: block;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  padding: 0.5rem 1rem;\r\n}\r\n```\r\n", "So, I came across an issue with how the collapsable nav works in the documentation and wanted to tell you how I changed it to work the way I wanted it to work.\r\n\r\n1: I put assigned pull-left to the collapse button\r\n2: I moved the navbar-brand outside the collapse, before it\r\n3: I added: `@media (max-width: 991px) { .navbar-toggleable-xs{ clear:both; }}`\r\n\r\nThis shows the brand while the menu is closed and  then displays the items under it when it's open.  Without the clear:both; the first navigation item was appearing to the right of the brand.\r\n\r\nI hope this helps you guys, I'm loving the alpha so far, keep up the great work!", "See the screenshot below- particularly the lowercase g. It seems to be caused by -webkit-appearance: none;\r\n\r\n![custom-select](https://cloud.githubusercontent.com/assets/21128070/18938285/bf05c59c-85c5-11e6-9978-bf209dda8ffe.PNG)\r\n\r\nWindows 10/Chrome latest version", "If you create a select and an input next to each other, you will see that the select is bigger than the input... they should have the same height!\r\n\r\nhttps://jsfiddle.net/zk6akjL1/2/", "~~Per https://github.com/twbs/bootstrap/issues/20630 and https://github.com/twbs/bootstrap/issues/20218~~ if you have a fixed navbar and add a tooltip inside of it (on top of a button) it does not work.  I'm using the default `$(function() { $('[data-toggle=\"tooltip\"]').tooltip(); });` usage.\r\n\r\n```html\r\n<nav class=\"navbar navbar-fixed-top navbar-dark bg-inverse\">\r\n  <button class=\"navbar-toggler bg-inverse pull-right hidden-lg-up\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbar-header\" aria-controls=\"navbar-header\">\r\n    <i class=\"fa fa-bars\"></i>\r\n  </button>\r\n  <a class=\"navbar-brand\" href=\"/\">{{config.appName}} <span class=\"tag tag-success\">{{ version }}</span></a>\r\n  <div class=\"clearfix hidden-lg-up\"></div>\r\n  <div class=\"collapse navbar-toggleable-md\" id=\"navbar-header\">\r\n    <ul class=\"nav navbar-nav\">\r\n      <li class=\"nav-item\"><a role=\"button\" data-toggle=\"tooltip\" title=\"Early-bird discount available\" class=\"btn btn-outline-danger\" href=\"#\"><i class=\"fa fa-book\"></i> Book <span class=\"tag tag-danger text-uppercase\">Pre-order</span></a></li>\r\n    </div>\r\n  </div>\r\n</div>\r\n```\r\n\r\nIt's not working due to the CSS z-index.  Not sure if I need to specify a `data-container` or something else?", "Instead using a empty div in markup [like](http://v4-alpha.getbootstrap.com/layout/grid/#example-mobile-tablet-desktop):\r\n```\r\n<!-- Optional: clear the XS cols if their content doesn't match in height -->\r\n<div class=\"clearfix hidden-sm-up\"></div>\r\n```\r\n\r\nI suggest something like:\r\n`<div class=\"row clear-sm-2 clear-md-3 clear-xl-5\">`\r\n\r\n\r\nWith some implementation like\r\n```\r\n$max-clear-cols: 5;\r\n@each $breakpoint in map-keys($grid-breakpoints) {\r\n  @include media-breakpoint-up($breakpoint) {\r\n  \t@for $i from 2 through $max-clear-cols {\r\n  \t\t.clear-#{$breakpoint}-#{$i} >*:nth-child(n) { clear:none; }\r\n    \t.clear-#{$breakpoint}-#{$i} >*:nth-child(#{$i}n+#{$i+1}) { clear:both; }\r\n  \t}\r\n  }\r\n}\r\n```\r\n\r\n", "Copying from the Docs shouldn't copy `$` for `npm install bootstrap@4.0.0-alpha.4` installation instructions.", "Expected Behaviour: \r\nWhen activating a `nav-link`, the `active` state gets removed and added to the now active `nav-link`. Therefore, the active state gets removed and added to the `active` item. Additionally the content transitions between the current and now active. \r\n\r\nProblem:\r\nThe active class is not being removed from `nav-lin`k. Thus each item can only be navigated to once. \r\n\r\nCodepen ( **UPDATED** ) :\r\nhttp://codepen.io/anon/pen/ALRGqj?js-preprocessor=none\r\n\r\nI hope the syntax is correct since there is no example in the docs:\r\n\r\n```html\r\n<!-- Navigation -->\r\n<nav class=\"nav nav-pills nav-stacked\" role=\"tablist\">\r\n  <a class=\"nav-link active\" data-toggle=\"pill\" role=\"tab\"  href=\"#profile\">Active</a>\r\n  <a class=\"nav-link\" data-toggle=\"pill\" role=\"tab\" href=\"#buzz\">Link</a>\r\n  <a class=\"nav-link\" data-toggle=\"pill\" role=\"tab\" href=\"#references\">Link</a>\r\n  <a class=\"nav-link disabled\" href=\"#\">Disabled</a>\r\n</nav>\r\n\r\n<!-- Tab panes -->\r\n<div class=\"tab-content\" role=\"tabpanel\">\r\n  <div role=\"tabpanel\" class=\"tab-pane fade in active\" id=\"profile\">...</div>\r\n  <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"buzz\">bbb</div>\r\n  <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"references\">ccc</div>\r\n</div>\r\n```\r\n\r\nedit: **May be related to** #20039 , but tabs work, pills (stacked) dont", "Fixes issue #19849 and adds tests for disabled case and active case (previously not tested).", "I think it's very common use case that you want to have card content vertically in small screen and in bigger screens content is aligned horizontally. For example: http://www.apple.com/newsroom/\r\n\r\n![example](https://cloud.githubusercontent.com/assets/22469162/18866616/74ae8352-84a9-11e6-9575-e31a9c8e6e2d.png)\r\n\r\nI implemented this for my own project roughly so that:\r\n\r\n    .card {    display: flex; flex-direction: column;}\r\n    .card-img {    order: -1;}\r\n    .card-block {    order: 0;}\r\n    .card-img-last {    order: 1;}\r\n.card-img-last is basically same than .card-img-bottom, but it doesn't care about order in source and also naming works better with horizontal cards where last refers to the right side.\r\n\r\nThen I have horizontal classes for cards which needs to be added in addition to basic card class:\r\n\r\n    .card-horizontal {    flex-direction: row;}\r\n    .card-horizontal-sm-up { ... }\r\n    .card-horizontal-md-up { ... } etc.\r\n\r\n    .card-horizontal .card-img {    flex: 0 0 $card-img-width;}\r\n    .card-horizontal .card-block {    flex: 0 0 calc(100% - $card-img-width)}\r\n\r\nSomething like that, not a perfect example but gives the basic idea how it is working. I'm using card-block now as a flex item but it won't work if I want to have card header or footer. There should be some wrapper div which contains all content expect image.\r\n\r\nOnly problem with this is to make image behave well in horizontal view. In my implementation .card-img is just a div container, then img is inside that and I use object-fit (IE/Edge fix with Javascript) to cover the whole div. I've set minimum and maximum height for .card-block to have always reasonably sized image there.\r\n\r\nI would like to hear if this is wanted feature and then opinions what would be the correct implementation. Obviously we need to have also non-flex-box solution for that.", "All right, using data attribue or via js, it works, which is prevent keyboard leftarrow-prev/right-arrow-next , but there is an strange issue in my case.\r\nI have disabled the key reaction in carousel which is working fine, but i have a popup in the lets's say 5th slide, and used the bootstrap modal for popup. Now the problem is when bootstrap modal is showing, the keyboard false does not prevent the carousel from sliding? Any help is appreciated. Also tried the solutions to prevent action using event listener and others as below.\r\n\r\n`window.addEventListener(\"keydown\", function(e) { // space and arrow keys if([32, 37, 38, 39, 40].indexOf(e.keyCode) > -1) { e.preventDefault(); } }, false);`\r\n\r\nBy the way my pop modal is outside of the the carousel. It is just triggered from one of the carousel slide.", "AFAIK it's not included.", "", "So I'm using BS4 with flex enabled and I'm typically copy/pasting angular material utility classes into my project to make use of those for building the whole layout and doing flex magic like vertical and horizontal alignment: `layout-fill, layout-row, layout-column, layout-space-between-center` etc. Is there any plan to include a range of flex utility classes in BS4?\r\n\r\nMinimal pen: http://codepen.io/intellix/pen/ALLJqK\r\nAngular material layout documentation: https://material.angularjs.org/latest/layout/container\r\nLayout code: https://github.com/angular/material/blob/master/src/core/style/layout.scss", "- Collapse will now find any active panels within the configured parent element using jQuery find", "The `.img-fluid` class applies `display: block;` styling by default. This is a completely different & additional behaviour to what `.img-fluid` is meant to do.\r\n\r\nShouldn't `.img-block` be a seperate class?", "It seems that there is alot of people wanting to have their navbars centered on the page, may be good to include a css class such as navbar-center that will center all the element in the navbar.\r\n\r\n`text-center` on the navbar div doesn't work as it meant to only center text and not all elements.\r\n\r\nReference:\r\nhttp://stackoverflow.com/questions/21980660/bootstrap-3-align-navigation-to-center\r\nhttp://stackoverflow.com/questions/18777235/center-content-in-responsive-bootstrap-navbar", "go to:\r\nhttps://bootswatch.com/cerulean/\r\nscroll to form and select the select element.\r\nThe navbar will disappear as long as the iOS Safari input helper is open and reappears when closing.\r\nThe same happens to ALL fixed elements on the page, they disappear\\get relative positioned.\r\n\r\nI have an SPA app which modifies the page contents when selecting an option and all elements stay hidden after closing after choosing a select option. The nav ans sidebar are seem to loose their fixed postition and stay at relative positions. Furtermore the postition of the select input helper is misplaced after opening the select element a second time. Turning the device repositions the select helper to the correct position.\r\n\r\nApple bug report has been filed. #28407863 \r\ngeneric bootstrap site before select\r\n![generic bootstrap site before select](https://cloud.githubusercontent.com/assets/3985767/18720266/668b9ab2-802b-11e6-8f11-12c5b52ad12e.png)\r\n\r\ngeneric bootstrap site after select\r\n![generic bootstrap site after select](https://cloud.githubusercontent.com/assets/3985767/18720269/704f3d4c-802b-11e6-8255-56fc3012b480.png)\r\n\r\n\r\nweb brf normal view before selecting select element\r\n![web brf normal view before selecting select element](https://cloud.githubusercontent.com/assets/3985767/18720245/49e6d1a6-802b-11e6-8ed9-b14b872c6d60.png)\r\n\r\nweb brf nav sidebar scroll to top and all other fixed elements disappeared after selecting select element\r\n![web brf nav sidebar scroll to top and all other fixed elements disappeared after selecting select element](https://cloud.githubusercontent.com/assets/3985767/18720253/57380e1a-802b-11e6-82e0-d1d2756c14fa.PNG)\r\n\r\nweb brf after closing select\r\n![web brf after closing select](https://cloud.githubusercontent.com/assets/3985767/18720261/5e10c0ba-802b-11e6-947b-f22fe35df3df.png)\r\n\r\nweb brf misplaced select helper\r\n![web brf misplaced select helper](https://cloud.githubusercontent.com/assets/3985767/18720284/7fe779c2-802b-11e6-9aef-e31df913d0eb.png)\r\n\r\nweb brf after screen rotation select helper realigns\r\n![web brf after screen rotation select helper realigns](https://cloud.githubusercontent.com/assets/3985767/18720279/79ef4c48-802b-11e6-9419-bb0ef4140486.png)\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]